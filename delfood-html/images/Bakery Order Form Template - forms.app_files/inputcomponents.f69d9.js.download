(window.webpackJsonp=window.webpackJsonp||[]).push([[143],{"/zpt":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body",class:{full:"picturechoice"===e.questionModel.choice.subType||"yesno"===e.questionModel.choice.subType}},[t("componentinput"+e.questionModel.choice.subType,{ref:"component",tag:"component",attrs:{questionModel:e.questionModel,formModel:e.formModel,readonly:e.readonly},on:{onInput:e.onInput,onFocus:function(t){return e.$emit("onFocus",e.questionModel)}}}),e._v(" "),e.questionModel.choice.isShowCommentField&&e.questionModel.answer&&e.questionModel.answer.length>0?t("ChoiceComment",{attrs:{questionModel:e.questionModel,rules:e.formModel.validationRules[e.questionModel._id].comment}}):e._e()],1)};o._withStripped=!0;var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-choice",class:{"invalid-input-wrapper":!e.isValid}},[t("i-select",{ref:"input",attrs:{items:e.options,clearable:"",value:e.selectedAnswer,contains:"","empty-option":e.questionModel.choice.emptyOption,readonly:e.readonly,"option-text":"text",searchable:e.questionModel.choice.options.length>5,"option-value":"_id"},on:{focus:function(t){return e.$emit("onFocus",e.questionModel)},change:function(t){return e.answerChange(t)},input:e.setAnswer}}),e._v(" "),e.selectedIsOther?[t("div",{staticClass:"other-text-box"},[t("i-text",{attrs:{type:"text"},on:{input:e.updateAnswer},model:{value:e.otherAnswerValue,callback:function(t){e.otherAnswerValue=t},expression:"otherAnswerValue"}})],1)]:e._e(),e._v(" "),t("i-question-validation",{attrs:{required:e.questionModel.isRequired,rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],2)};s._withStripped=!0;var n=i("ttAG"),a=i("aXTv"),r=i("3D8H"),l={name:"dropdownInput",mixins:[r.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{options:[],errorMessages:[],isValid:!0,otherAnswerValue:"",selectedIsOther:!1,selectedAnswer:null}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",a.a.getDefaultAnswer(this.questionModel)),this.questionModel.choice.isShowEmptyoption||(this.questionModel.choice.emptyOption=null),this.questionModel.choice.options.forEach(e=>{this.options.push({_id:e._id,text:e.text})}),this.questionModel.choice.isOrder&&n.default.sortArrayOfObject(this.options,"text"),this.questionModel.choice.shuffleOptions&&(this.options=this.randomOrder(this.options)),this.questionModel.choice.other&&this.options.push({text:n.default.clearHtmlTags(this.$t("questionTypes.choice.other")),_id:"other"}),this.setAnswer(this.questionModel.answer)},methods:{setAnswer:function(e){"other"===e?(this.selectedIsOther=!0,this.selectedAnswer="other"):e&&-1===this.questionModel.choice.options.findIndex(t=>t._id===e)?(this.selectedAnswer="other",this.otherAnswerValue=e,this.selectedIsOther=!0):this.selectedAnswer=e,this.answerChange()},answerChange:function(){"other"===this.selectedAnswer?this.selectedIsOther=!0:this.selectedIsOther=!1,this.questionModel.answer=this.selectedAnswer,this.$emit("onInput",this.questionModel)},updateAnswer:function(){this.selectedIsOther=!0,this.otherAnswerValue&&(this.selectedAnswer="other",this.questionModel.answer=this.otherAnswerValue)}}},u=i("KHd+"),d=Object(u.a)(l,s,[],!1,null,null,null).exports,c=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"input-choice",class:{"invalid-input-wrapper":!e.isValid}},[e._l(e.questionModel.choice.options,(function(i){return t("i-checkbox",{key:i._id,ref:i._id,refInFor:!0,staticClass:"checkbox form-input-choice",attrs:{tabindex:"-1",checked:e.questionModel.answer,label:i.text,value:i._id,disabled:e.disableds[i._id],required:e.questionModel.isRequired,readonly:e.readonly},on:{change:e.onChangeValue}})})),e._v(" "),e.questionModel.choice.other?t("i-checkbox",{staticClass:"checkbox form-input-choice",attrs:{disabled:e.disableds.other,tabindex:"-1",isHtmlLabel:"",label:e.$t("questionTypes.choice.other"),readonly:e.readonly},on:{click:e.changeOtherMultipleAnswerValue},model:{value:e.otherMultipleAnswerValue,callback:function(t){e.otherMultipleAnswerValue=t},expression:"otherMultipleAnswerValue"}}):e._e()],2),e._v(" "),e.otherMultipleAnswerValue?t("div",{staticClass:"other-text-box"},[t("i-text",{attrs:{type:"text",value:e.otherAnswerValue},model:{value:e.otherAnswerValue,callback:function(t){e.otherAnswerValue=t},expression:"otherAnswerValue"}})],1):e._e(),e._v(" "),e.checkValid?t("i-question-validation",{ref:"input",attrs:{rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}):e._e()],1)};c._withStripped=!0;var p=i("R3Ei"),h={name:"multiplechoiceInput",mixins:[r.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:()=>({isValid:!0,otherMultipleAnswerValue:!1,otherAnswerValue:"",checkValid:!1}),methods:{onChangeValue:function(e){this.$emit("onInput",e)},changeOtherMultipleAnswerValue:function(){this.otherMultipleAnswerValue?this.setOtherAnswer():this.otherAnswerValue?this.setOtherAnswer(this.otherAnswerValue):this.setOtherAnswer("other")},setOtherAnswer:function(e){if(this.questionModel.answer){for(var t,i=0;i<this.questionModel.answer.length;i++){var o=this.questionModel.answer[i];-1===this.questionModel.choice.options.findIndex(e=>e._id===o)&&(t=i)}void 0===t&&e?this.questionModel.answer.push(e):e?this.questionModel.answer[t]=e:this.questionModel.answer.splice(t,1)}else e&&this.questionModel.answer.push(e)}},mounted:function(){this.checkValid=!0},created:function(){if(this.questionModel.answer||this.$set(this.questionModel,"answer",p.a.getDefaultAnswer(this.questionModel)),this.questionModel.choice.isOrder&&n.default.sortArrayOfObject(this.questionModel.choice.options,"text"),this.questionModel.choice.shuffleOptions&&(this.questionModel.choice.options=this.randomOrder(this.questionModel.choice.options)),this.questionModel.choice.other&&this.questionModel.answer)for(var e=0;e<this.questionModel.answer.length;e++){var t=this.questionModel.answer[e];-1===this.questionModel.choice.options.findIndex(e=>e._id===t)&&(this.otherAnswerValue="other"!==t?t:"",this.otherMultipleAnswerValue=!0)}},computed:{disableds:function(){var e={};return this.questionModel.choice.max&&this.questionModel.answer.length>=this.questionModel.choice.max&&this.questionModel.choice.max<=this.questionModel.choice.options.length&&(this.questionModel.choice.options.map(t=>{this.questionModel.answer.find(e=>e===t._id)||(e[t._id]=!0)}),this.questionModel.answer.find(e=>"other"===e)||(e.other=!0)),e}},watch:{otherAnswerValue:function(){this.otherAnswerValue?this.setOtherAnswer(this.otherAnswerValue):this.setOtherAnswer("other")}}},m=(i("hbdU"),Object(u.a)(h,c,[],!1,null,"b3aee3ec",null).exports),f=function(){var e=this,t=e._self._c;return t("div",{staticClass:"picture-choice-layout"},[t("div",{staticClass:"picture-choice-wrapper"},[e._l(e.questionModel.choice.options,(function(i,o){return t(e.questionModel.choice.multipleSelection?"i-checkbox":"i-radio",{key:i._id,tag:"component",staticClass:"picture-choice",attrs:{readonly:e.readonly,uncheckable:"",value:i._id,disabled:e.disableds[i._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)}},scopedSlots:e._u([{key:"default",fn:function(s){return[t("div",{staticClass:"photo"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.getfileSrc(i.fileId),expression:"getfileSrc(option.fileId)"}]})]),e._v(" "),t("div",{staticClass:"input"},[t("p",[e._v(e._s(i.text))]),e._v(" "),s.isChecked?t("i-icon",{attrs:{icon:"check"}}):t("span",{staticClass:"number"},[e._v(e._s(o+1))])],1),e._v(" "),t("i-button",{staticClass:"zoom",attrs:{naked:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.onZoomClick(o)}}},[t("i-icon",{attrs:{icon:"search-plus"}})],1)]}}],null,!0),model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})})),e._v(" "),t("i-popup",{staticClass:"picture-choice-popup",attrs:{"close-button":""},model:{value:e.pictureSelectionPopup,callback:function(t){e.pictureSelectionPopup=t},expression:"pictureSelectionPopup"}},[t("div",{staticClass:"picturechoice-big-picture"},[e.questionModel.choice.options.length>1?t("i-icon",{staticClass:"nav-arrow nav-left",attrs:{icon:"chevron-left"},on:{click:function(t){e.bigImgIndex--}}}):e._e(),e._v(" "),t("div",{ref:"bigChoiceWrapper",staticClass:"big-picture-wrapper",class:{"big-img-checked":e.bigImageIsChecked}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.currentImage,expression:"currentImage"}],on:{click:e.onBigImageClick}})]),e._v(" "),e.questionModel.choice.options.length>1?t("i-icon",{staticClass:"nav-arrow nav-right",attrs:{icon:"chevron-right"},on:{click:function(t){e.bigImgIndex++}}}):e._e(),e._v(" "),t("ul",{staticClass:"bullets"},e._l(e.questionModel.choice.options.length,(function(i){return t("li",{key:i,class:{selected:i===e.bigImgIndex+1},on:{click:function(t){return e.onZoomClick(0===i?0:i-1)}}})})),0)],1)])],2),e._v(" "),t("i-question-validation",{ref:"input",attrs:{rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};f._withStripped=!0;i("yq1k"),i("JTJg");var M=i("NRfZ"),v=i("dAjO"),q=i("/WNs"),w={name:"picturechoiceInput",mixins:[r.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:()=>({hasValidationError:!1,baseUrl:M.a.fileApi,pictureSelectionPopup:!1,bigImg:null,privateBigImgIndex:0,isValid:!0}),methods:{getfileSrc:function(e){return this.formModel.formTempFiles?q.a.getFileSrc(this.formModel._id,e,void 0,this.formModel.formTempFiles[e]):q.a.getFileSrc(this.formModel._id,e,void 0,void 0)},onZoomClick:function(e){this.readonly||(this.bigImgIndex=e,this.pictureSelectionPopup=!0,this.$nextTick(()=>{if("ontouchstart"in window){this.$refs.bigChoiceWrapper.addEventListener("touchstart",e=>{var t=e.changedTouches[0].pageX,i=e=>{var o=e.changedTouches[0].pageX-t;Math.abs(o)>50&&(o<0?this.bigImgIndex++:this.bigImgIndex--),document.removeEventListener("touchend",i)};document.addEventListener("touchend",i)})}}))},onBigImageClick:function(){var e=this.questionModel.answer;if(this.questionModel.choice.multipleSelection){var t=this.questionModel.choice.options[this.bigImgIndex]._id;if(t){var i=e.findIndex(e=>e===t);i>-1?e.splice(i,1):e.push(t)}}else e=this.questionModel.choice.options[this.bigImgIndex]._id;this.$set(this.questionModel,"answer",e)}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",v.a.getDefaultAnswer(this.questionModel)),this.questionModel.choice.isOrder&&n.default.sortArrayOfObject(this.questionModel.choice.options,"text"),this.questionModel.choice.shuffleOptions&&(this.questionModel.choice.options=this.randomOrder(this.questionModel.choice.options))},computed:{bigImgIndex:{get:function(){return this.privateBigImgIndex||0},set:function(e){this.privateBigImgIndex>e?this.privateBigImgIndex=e>=0?e:this.questionModel.choice.options.length-1:e<this.questionModel.choice.options.length?this.privateBigImgIndex=e:this.privateBigImgIndex=0}},currentImage:function(){return this.bigImageOption.fileId?this.baseUrl+"/formfile/"+this.formModel._id+"/"+this.bigImageOption.fileId:"/static/img/no-image.png"},bigImageIsChecked:function(){if(this.questionModel.choice.options.length>0)return this.questionModel.choice.multipleSelection?this.questionModel.answer.includes(this.bigImageOption._id):this.questionModel.answer===this.bigImageOption._id},bigImageOption:function(){return this.questionModel.choice.options[this.bigImgIndex]},disableds:function(){var e={};return this.questionModel.choice.multipleSelection&&this.questionModel.choice.max&&this.questionModel.answer.length>=this.questionModel.choice.max&&this.questionModel.choice.options.map(t=>{this.questionModel.answer.find(e=>e===t._id)||(e[t._id]=!0)}),e}}},b=(i("DjAb"),Object(u.a)(w,f,[],!1,null,"b8e0c490",null).exports),_=function(){var e=this,t=e._self._c;return t("div",[t("IRating",{ref:"input",attrs:{icon:e.questionModel.choice.rateStyle,items:e.questionModel.choice.options,disabled:e.disabled,"option-text":"text","option-value":"_id",rules:e.formModel.validationRules[e.questionModel._id].choice,readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};_._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ");var g=i("DoXk"),y={name:"ratingchoice",props:{questionModel:Object,formModel:Object,disabled:Boolean,readonly:Boolean},components:{IRating:()=>i.e(144).then(i.bind(null,"mCRP"))},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",g.a.getDefaultAnswer(this.questionModel))}},x=Object(u.a)(y,_,[],!1,null,null,null).exports,C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-choice",class:{"invalid-input-wrapper":!e.isValid}},[e._l(e.questionModel.choice.options,(function(i){return t("i-radio",{key:i._id,staticClass:"radio form-input-choice",attrs:{tabindex:"-1",uncheckable:"",label:i.text,value:i._id,readonly:e.readonly,required:e.questionModel.isRequired},on:{change:function(t){return e.$emit("onInput",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})})),e._v(" "),e.questionModel.choice.other?[t("i-radio",{staticClass:"radio form-input-choice",attrs:{tabindex:"-1",uncheckable:"",isHtmlLabel:"",value:e.otherAnswer,readonly:e.readonly,label:e.$t("questionTypes.choice.other")},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}),e._v(" "),e.questionModel.answer===e.otherAnswer?t("div",{staticClass:"other-text-box"},[t("i-text",{attrs:{type:"text",value:e.otherAnswerValue},model:{value:e.otherAnswerValue,callback:function(t){e.otherAnswerValue=t},expression:"otherAnswerValue"}})],1):e._e()]:e._e(),e._v(" "),t("i-question-validation",{ref:"input",attrs:{required:e.questionModel.isRequired,rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],2)};C._withStripped=!0;var k=i("F/bx"),I={name:"singlechoiceInput",mixins:[r.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{isValid:!0,otherAnswer:this.$t("questionTypes.choice.other"),otherAnswerValue:""}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",k.a.getDefaultAnswer(this.questionModel)),this.questionModel.choice.isOrder&&n.default.sortArrayOfObject(this.questionModel.choice.options,"text"),this.questionModel.choice.shuffleOptions&&(this.questionModel.choice.options=this.randomOrder(this.questionModel.choice.options)),this.questionModel.choice.other&&this.questionModel.answer&&-1===this.questionModel.choice.options.findIndex(e=>e._id===this.questionModel.answer)&&(this.otherAnswer=this.questionModel.answer,this.otherAnswerValue="other"!==this.questionModel.answer?this.questionModel.answer:"")},watch:{otherAnswerValue:function(){this.otherAnswerValue?this.otherAnswer=this.otherAnswerValue:this.otherAnswer=this.$t("questionTypes.choice.other"),this.questionModel.answer=this.otherAnswer}}},$=(i("B7+U"),Object(u.a)(I,C,[],!1,null,"397700ae",null).exports),P=function(){var e=this,t=e._self._c;return t("div",{staticClass:"input-choice",class:{"invalid-input-wrapper":!e.isValid}},[t("div",{staticClass:"form-input-choice-wrapper"},e._l(e.questionModel.choice.options,(function(i){return t("i-radio",{key:i._id,staticClass:"radio form-input-choice",attrs:{tabindex:"-1",uncheckable:"",label:i.text,value:i._id,readonly:e.readonly,required:e.questionModel.isRequired},on:{change:function(t){return e.$emit("onInput",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})})),1),e._v(" "),t("i-question-validation",{ref:"input",attrs:{required:e.questionModel.isRequired,rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};P._withStripped=!0;var O=i("Lkgc"),V={name:"yesnoInput",mixins:[r.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{isValid:!0}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",O.a.getDefaultAnswer(this.questionModel))}},S=(i("k+n+"),Object(u.a)(V,P,[],!1,null,"7ac42b7f",null).exports),A=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"opinion-scale-wrapper"},[t("div",{staticClass:"opinion-scale-wrapper-grid",class:{"invalid-input-wrapper":!e.isValid}},e._l(e.questionModel.choice.options,(function(i){return t("div",{key:i._id,staticClass:"opinion-scale-button",class:{checked:i._id===e.questionModel.answer},attrs:{disabled:e.disabled},on:{click:function(t){return e.setScale(i._id)}}},[e._v("\n\t\t\t\t"+e._s(i.text)+"\n\t\t\t")])})),0),e._v(" "),t("div",{staticClass:"opinion-scale-wrapper-labels"},[e.questionModel.choice.showLabel?t("span",{staticClass:"opinion-scale-wrapper-labels-label left",attrs:{title:e.questionModel.choice.labelLeft}},[e._v(e._s(e.questionModel.choice.labelLeft))]):e._e(),e._v(" "),e.questionModel.choice.showLabel?t("span",{staticClass:"opinion-scale-wrapper-labels-label center",attrs:{title:e.questionModel.choice.labelCenter}},[e._v(e._s(e.questionModel.choice.labelCenter))]):e._e(),e._v(" "),e.questionModel.choice.showLabel?t("span",{staticClass:"opinion-scale-wrapper-labels-label right",attrs:{title:e.questionModel.choice.labelRight}},[e._v(e._s(e.questionModel.choice.labelRight))]):e._e()])]),e._v(" "),t("i-question-validation",{ref:"input",style:e.questionModel.choice.showLabel?"margin-top: 20px;":"",attrs:{required:e.questionModel.isRequired,rules:e.formModel.validationRules[e.questionModel._id].choice},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};A._withStripped=!0;var j=i("n3VK"),F={name:"opinionscaleInput",props:{questionModel:Object,formModel:Object,disabled:Boolean,readonly:Boolean},data:function(){return{isValid:!0}},methods:{setScale(e){this.readonly||(this.questionModel.answer===e?this.questionModel.answer=null:this.questionModel.answer=e,this.$emit("onInput",this.questionModel))}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",j.a.getDefaultAnswer(this.questionModel))}},T=(i("F3bU"),Object(u.a)(F,A,[],!1,null,"39f61483",null).exports),R=i("Cjzc"),L={name:"choiceInput",components:{componentinputdropdown:d,componentinputmultiplechoice:m,componentinputpicturechoice:b,componentinputrating:x,componentinputsinglechoice:$,componentinputyesno:S,componentinputopinionscale:T,ChoiceComment:i("sVTe").a},mixins:[R.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},methods:{onInput:function(){this.$emit("onInput",this.questionModel)}}},B=(i("0aNR"),Object(u.a)(L,o,[],!1,null,"694c7b88",null));t.default=B.exports},"0aNR":function(e,t,i){"use strict";i("Pl26")},"0aqK":function(e,t,i){},"1+0n":function(e,t,i){},"1d8N":function(e,t,i){var o=i("LboF"),s=i("Lv/v");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},"3pgs":function(e,t,i){var o=i("LboF"),s=i("eeMl");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},"4bSx":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full wrap"},[t("i-text",{ref:"inputA",staticClass:"long-input",attrs:{"prepend-icon":"map-marker",placeholder:e.labels.addressLine1,rules:e.validationRules.addressLine1,readonly:e.readonly,name:"address-line1",autocomplete:"address-line1",noValidationElement:"",required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.addressLine1,callback:function(t){e.$set(e.questionModel.answer,"addressLine1",t)},expression:"questionModel.answer.addressLine1"}}),e._v(" "),e.questionModel.address.isShowAddressLine2?t("i-text",{ref:"inputA2",staticClass:"long-input",attrs:{placeholder:e.labels.addressLine2,rules:e.validationRules.addressLine2,readonly:e.readonly,name:"address-line2",autocomplete:"address-line2",noValidationElement:"",required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.addressLine2,callback:function(t){e.$set(e.questionModel.answer,"addressLine2",t)},expression:"questionModel.answer.addressLine2"}}):e._e(),e._v(" "),e.questionModel.address.isShowCity?t("i-text",{ref:"inputCi",staticClass:"short-input",attrs:{placeholder:e.labels.city,rules:e.validationRules.city,readonly:e.readonly,name:"address-city",autocomplete:"on",noValidationElement:"",required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.city,callback:function(t){e.$set(e.questionModel.answer,"city",t)},expression:"questionModel.answer.city"}}):e._e(),e._v(" "),e.questionModel.address.isShowState?t("i-text",{ref:"inputSt",staticClass:"short-input",attrs:{placeholder:e.labels.state,rules:e.validationRules.state,readonly:e.readonly,name:"address-state",autocomplete:"on",noValidationElement:"",required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.state,callback:function(t){e.$set(e.questionModel.answer,"state",t)},expression:"questionModel.answer.state"}}):e._e(),e._v(" "),e.questionModel.address.isShowPcode?t("i-text",{ref:"inputPc",staticClass:"short-input",attrs:{placeholder:e.labels.pcode,rules:e.validationRules.pcode,readonly:e.readonly,name:"address-pcode",autocomplete:"postal-code",noValidationElement:"",required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.pcode,callback:function(t){e.$set(e.questionModel.answer,"pcode",t)},expression:"questionModel.answer.pcode"}}):e._e(),e._v(" "),e.questionModel.address.isShowCountry?t("i-select",{ref:"inputCo",staticClass:"short-input",attrs:{items:e.countries,searchable:"",noValidationElement:"",required:e.questionModel.isRequired,placeholder:e.labels.country,rules:e.validationRules.country,"option-text":"text","option-value":"code",autocomplete:"chrome-off",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.country,callback:function(t){e.$set(e.questionModel.answer,"country",t)},expression:"questionModel.answer.country"}}):e._e(),e._v(" "),e.questionModel.address.isShowMap&&e.formModel.googleMapApiKey?t("div",{staticClass:"map-wrapper long-input"},[t("IGoogleMap",{ref:"map",attrs:{useGPS:e.useGPS,apiKey:e.formModel.googleMapApiKey,defaultLocation:e.location,readonly:e.readonly},model:{value:e.questionModel.answer.location,callback:function(t){e.$set(e.questionModel.answer,"location",t)},expression:"questionModel.answer.location"}}),e._v(" "),t("i-question-validation",{attrs:{rules:e.formModel.validationRules[e.questionModel._id].l},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}),e._v(" "),t("i-button",{staticClass:"map-btn",on:{click:function(t){!e.readonly&&e.onGPS()}}},[t("i-icon",{attrs:{icon:"map-marker"}})],1),e._v(" "),t("i-button",{staticClass:"map-btn",on:{click:function(t){!e.readonly&&e.removeLocation()}}},[t("i-icon",{attrs:{icon:"trash"}})],1)],1):e._e()],1),e._v(" "),e.errorMessage?t("span",{staticClass:"helper-text"},[t("span",{staticClass:"arrow"}),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.BbCode.cleanTextFromBBCode(e.errorMessage))}})]):e._e()])};o._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ");var s=i("Cjzc"),n=i("A541"),a=i("RuLz"),r={name:"addressInput",components:{IGoogleMap:()=>i.e(139).then(i.bind(null,"p0Sx"))},props:{questionModel:Object,formModel:Object,readonly:{type:Boolean,default:!1}},mixins:[s.a],data(){return{useGPS:!1,location:this.questionModel.address.defaultLocation,errorMessage:null,erroredVmObject:{},BbCode:a.a}},methods:{onGPS:function(){this.useGPS=!0},setLocation:function(e){this.location=e},removeLocation:function(){this.$refs.map.resetLocation(this.questionModel.address.defaultLocation)},onValidation:function(e,t,i){for(var o in this.erroredVmObject[i._uid]=t,t||delete this.erroredVmObject[i._uid],this.erroredVmObject)if(this.erroredVmObject[o])return void(this.errorMessage=this.erroredVmObject[o]);this.errorMessage=null}},created:function(){this.questionModel.answer?this.questionModel.answer.country&&(this.questionModel.answer.countryFullname=this.countries.find(e=>e.code===this.questionModel.answer.country).text):this.$set(this.questionModel,"answer",n.default.getDefaultAnswer(this.questionModel,this.formModel))},computed:{labels:function(){return this.questionModel.address.labels?this.questionModel.address.labels:i("A541").default.componentDefaults().address.labels},inputs:function(){var e=[this.$refs.inputA];return this.questionModel.address.isShowAddressLine2&&e.push(this.$refs.inputA2),this.questionModel.address.isShowCity&&e.push(this.$refs.inputCi),this.questionModel.address.isShowState&&e.push(this.$refs.inputSt),this.questionModel.address.isShowPcode&&e.push(this.$refs.inputPc),this.questionModel.address.isShowCity&&e.push(this.$refs.inputCo),e},validationRules:function(){return this.formModel.validationRules[this.questionModel._id]},countries:function(){return this.$i18n.countries}}},l=(i("wdwb"),i("KHd+")),u=Object(l.a)(r,o,[],!1,null,"41de35fc",null);t.default=u.exports},"70on":function(e,t,i){},"72E/":function(e,t,i){},"95gJ":function(e,t,i){var o=i("LboF"),s=i("dTUZ");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},"9qeA":function(e,t,i){},"B7+U":function(e,t,i){"use strict";i("na3u")},BGN2:function(e,t,i){"use strict";i("o6uC")},Ck9U:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full"},[t("i-text",{ref:"input",attrs:{"prepend-icon":"envelope",type:"email",placeholder:e.questionModel.placeholder,required:e.questionModel.isRequired,rules:e.validEmail,name:"email",autocomplete:"email",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)}},scopedSlots:e._u([e.questionModel.email.isLimitedDomain?{key:"appendComponent",fn:function(){return[t("span",{ref:"domainElement",staticClass:"limited-domain"},[e._v("@"+e._s(e.questionModel.email.limitedDomain))])]},proxy:!0}:null],null,!0),model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}),e._v(" "),e.questionModel.email.isShowConfirmation?t("i-text",{ref:"inputC",attrs:{type:"email",required:e.questionModel.isRequired,rules:e.emailConfirmation,readonly:e.readonly,name:"confirm-email",autocomplete:"email",placeholder:e.questionModel.email.labels.confirmation},on:{input:function(t){return e.$emit("onInput",e.questionModel)}},scopedSlots:e._u([e.questionModel.email.isLimitedDomain?{key:"appendComponent",fn:function(){return[t("span",{ref:"domainElement",staticClass:"limited-domain"},[e._v("@"+e._s(e.questionModel.email.limitedDomain))])]},proxy:!0}:null],null,!0),model:{value:e.confirmationModel,callback:function(t){e.confirmationModel=t},expression:"confirmationModel"}}):e._e()],1)])};o._withStripped=!0;var s=i("Cjzc"),n=i("9Vbv"),a=i("O2HH"),r={name:"emailInput",mixins:[s.a,a.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{confirmationModel:null}},created:function(){this.questionModel.answer?this.confirmationModel=this.questionModel.answer:(this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel)),this.questionModel.email.confirmationDefaultValue&&(this.confirmationModel=this.questionModel.email.confirmationDefaultValue))},mounted:function(){this.questionModel.email.isLimitedDomain&&this.calcPadding()},computed:{emailConfirmation:function(){return this.formModel.validationRules[this.questionModel._id].emailConfirm?this.formModel.validationRules[this.questionModel._id].emailConfirm(this.questionModel.answer):[]},validEmail:function(){return this.formModel.validationRules[this.questionModel._id]?this.questionModel.email.isLimitedDomain?this.formModel.validationRules[this.questionModel._id].emailWithoutDomain:this.formModel.validationRules[this.questionModel._id].email:[]},inputs:function(){var e=[];return e.push(this.$refs.input),this.questionModel.email.isShowConfirmation&&e.push(this.$refs.inputC),e}}},l=(i("XKdE"),i("KHd+")),u=Object(l.a)(r,o,[],!1,null,"21d5f07a",null);t.default=u.exports},CxRe:function(e,t,i){"use strict";i("Rq/n")},D1qf:function(e,t,i){var o=i("LboF"),s=i("IwQF");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},DjAb:function(e,t,i){"use strict";i("RD8t")},Dpqe:function(e,t,i){"use strict";i("nexg")},F3bU:function(e,t,i){"use strict";i("YoDx")},GIbk:function(e,t,i){},HYZu:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question submitbutton",class:[{visible:e.visibleForCardDesign},e.formModel.submitButton.align]},[t("div",{staticClass:"question-body",class:[e.formModel.submitButton.align]},[t("Captcha",{ref:"captcha",staticClass:"captcha",attrs:{version:e.formModel.baseSettings&&e.formModel.baseSettings.captchaChoice?2:3},on:{onVerify:function(t){return e.$emit("onVerify",t)},onExpired:function(t){return e.$emit("onExpired",t)}}}),e._v(" "),null===e.captcha.isOk||e.captcha.isOk?e._e():t("i-alert",{attrs:{type:"error"}},[e._v("\n\t\t\t"+e._s(e.$t("notARobot"))+"\n\t\t")]),e._v(" "),e.$root.isOnline?e._e():t("i-alert",{staticClass:"reload-alert",attrs:{type:"warning"},on:{click:e.onReloadClick}},[t("span",{domProps:{innerHTML:e._s(e.$t("noInternetConnection"))}})]),e._v(" "),!1!==e.formModel.submitButton.isShow?t("div",{staticClass:"submit-button",class:e.formModel.submitButton.align},[t("i-button",{class:{"load-button":e.isLoading},attrs:{loading:e.isLoading,tabindex:e.tabindex,disabled:null!==e.disabled},on:{click:e.onClick,keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.onClick.apply(null,arguments)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onClick.apply(null,arguments)}]}},[e._v("\n\t\t\t\t"+e._s(e.formModel.submitButton.text)+"\n\t\t\t")]),e._v(" "),null===e.disabled&&e.formModel.baseSettings.cardDesign&&!e.$root.isMobile?t("span",{domProps:{innerHTML:e._s(e.$t("formbuilder.viewType.pressEnter"))}}):e._e()],1):e._e()],1)])};o._withStripped=!0;var s=i("RuLz"),n={name:"submitbutton",components:{Captcha:i("pjF1").a},data:()=>({captchaChoice:!1,BbCode:s.a}),props:{isLoading:Boolean,disabled:{type:String,default:null},formModel:Object,tabindex:{type:Number,default:0},captcha:{type:Object,default:()=>({isOk:null})},visibleForCardDesign:Boolean},created:function(){this.formModel.submitButton=this.formModel.submitButton?this.formModel.submitButton:{text:"Submit"}},methods:{onReloadClick:function(){window.location.reload()},onClick:function(e){null===this.disabled&&(this.formModel.baseSettings.captchaChoice&&null===this.captcha.isOk&&(this.captcha.isOk=!1),this.$emit("onSubmit",e))},getCaptcha:function(){return this.$refs.captcha}}},a=(i("dWMN"),i("KHd+")),r=Object(a.a)(n,o,[],!1,null,"2f931553",null);t.default=r.exports},Hm2W:function(e,t,i){"use strict";i.r(t);i("SYor");var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"product"},[t("div",{staticClass:"question-basket text-left",on:{click:function(t){e.readonly?e.showBasket=!1:e.showBasket=!0}}},[0===e.totalAmount?t("div",{staticClass:"basket-text",domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.noProductInBasket"))}}):t("i18n",{staticClass:"basket-text-total",attrs:{path:"questionTypes.productbasket.grandTotalInTheBasket",tag:"div"}},[t("span",{attrs:{place:"total"}},[e._v(e._s(e.viewPrice(e.questionModel.answer.t)))]),e._v(" "),t("span",{attrs:{place:"currency"}},[e._v(e._s(e.currency))])])],1),e._v(" "),t("div",{staticClass:"question-basket-wrapper",on:{click:function(t){e.readonly?e.showBasket=!1:e.showBasket=!0}}},[t("div",{staticClass:"question-basket-wrapper-item"},[t("div",{staticClass:"question-basket-icon"},[t("div",{staticClass:"pre-icons"},[t("span",{class:{"active-basket":e.totalAmount>0}},[e.totalAmount>0?t("b",[e._v(e._s(e.totalAmount))]):t("b",[e._v("0")])]),e._v(" "),t("i-icon",{attrs:{icon:"shopping-basket"}})],1)])])]),e._v(" "),e.questionModel.productbasket.categories&&e.questionModel.productbasket.categories.length>0?t("div",{staticClass:"product-category-wrapper",class:{opened:e.selectedCategorySubCategories.length>0}},[t("ul",{staticClass:"product-category"},[t("li",{on:{click:function(t){e.selectedMainCategory=null}}},[e._v(e._s(e.$t("questionTypes.productbasket.all")))]),e._v(" "),e._l(e.mainCategories,(function(i,o){return t("li",{key:"clist-"+o,class:{selected:e.selectedMainCategory&&e.selectedMainCategory._id===i._id},on:{click:function(t){e.selectedMainCategory=i}}},[e._v(e._s(i.name))])}))],2),e._v(" "),e.selectedCategorySubCategories.length>0?t("ul",{staticClass:"product-subcategory"},e._l(e.selectedCategorySubCategories,(function(i,o){return t("li",{key:"sclist-"+o,class:{selected:e.selectedSubCategories[i._id]},on:{click:function(t){return e.selectCategory(i)}}},[e._v(e._s(i.name))])})),0):e._e()]):e._e(),e._v(" "),t("div",{staticClass:"product-misc"},[t("div",{staticClass:"product-misc-item"},[t("div",{staticClass:"product-count",domProps:{innerHTML:e._s(e.$tc("questionTypes.productbasket.listingProducts",e.filteredProducts.length,{count:e.filteredProducts.length}))}}),e._v(" "),e.questionModel.productbasket.viewType.viewTypes.length>1?t("div",{staticClass:"viewtype-icons"},[t("i-icon",{staticClass:"change-view-icon",class:{selected:"list"===e.selectedViewType},attrs:{icon:"list-ul"},on:{click:function(t){return e.changeViewType("list")}}}),e._v(" "),t("i-icon",{staticClass:"change-view-icon",class:{selected:"grid"===e.selectedViewType},attrs:{icon:"th-large"},on:{click:function(t){return e.changeViewType("grid")}}})],1):e._e()]),e._v(" "),e.isSearchable?t("div",{staticClass:"product-searh"},[t("i-text",{attrs:{prependIcon:"search",placeholder:e.$t("questionTypes.productbasket.searchProduct")},model:{value:e.searchKeyword,callback:function(t){e.searchKeyword=t},expression:"searchKeyword"}})],1):e._e()]),e._v(" "),t("div",{staticClass:"question-body product"},[t("div",{staticClass:"full wrap",class:{"product-list-view":"list"===e.selectedViewType}},e._l(e.filteredProducts,(function(i,o){return t("div",{key:o,ref:"".concat(i._id),refInFor:!0,staticClass:"product-item",class:{disabled:"disable"===e.productsStatus[i._id]},attrs:{title:i.name},on:{click:function(t){return e.openVariantPopup(o)}}},[(i.fileIds&&i.fileIds.length>0||i.fileId)&&"grid"===e.selectedViewType?t("div",{staticClass:"product-colomn product-image",on:{click:function(t){e.showBigImage(e.getProductFirstFileSrc(i))}}},[t("div",{staticClass:"zoom-prd",on:{click:function(t){e.showBigImage(e.getProductFirstFileSrc(i))}}},[t("i",{staticClass:"material-icons notranslate"},[e._v("zoom_in")])]),e._v(" "),t("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.getProductFirstFileSrc(i),expression:"getProductFirstFileSrc(product)",arg:"background-image"}],staticClass:"product-colomn-img"})]):"grid"===e.selectedViewType?t("div",{staticClass:"product-colomn product-image"},[t("div",{staticClass:"product-colomn-img",staticStyle:{background:"url(/static/img/no-product-img.jpg)"}})]):e._e(),e._v(" "),t("div",{staticClass:"product-colomn product-detail"},[t("div",{staticClass:"product-top-section"},[t("div",{staticClass:"product-colomn-title"},[t("h2",{},[e._v(e._s(i.name))])]),e._v(" "),i.desc?t("div",{staticClass:"product-desc"},[t("p",[e._v(e._s(i.desc))])]):e._e()]),e._v(" "),t("div",{staticClass:"product-bottom-section"},[t("b",{staticClass:"product-unit"},[e._v(e._s(i.unit+":"))]),e._v(" "),t("div",{staticClass:"product-price text-right"},[t("p",[e._v(e._s(e.productListPrice(i)))])]),e._v(" "),t("div",{staticClass:"product-basket-button"})])]),e._v(" "),t("i-question-validation",{staticClass:"product-basket-inlvalid",attrs:{rules:e.formModel.validationRules[e.questionModel._id][i._id]},model:{value:i.amount,callback:function(t){e.$set(i,"amount",t)},expression:"product.amount"}})],1)})),0),e._v(" "),e.summaryList&&e.summaryList.length>0?t("div",{staticClass:"product-basket-footer"},[t("div",{staticClass:"product-basket-footer-content"},[t("div",{staticClass:"product-basket-summer-list"},[e._l(e.summaryList,(function(i,o){return t("div",{key:o,staticClass:"product-basket-summer-item"},[t("span",[e._v(e._s(e.$t(i.label)||i.label)+":")]),e._v(" "),t("span",[e._v(e._s(e.$t(i.text)||i.text))])])})),e._v(" "),t("span",{staticClass:"product-basket-footer-line"}),e._v(" "),t("div",{staticClass:"product-basket-summer-item total-items"},[t("span",[e._v(e._s(e.$t("total"))+":")]),e._v(" "),t("span",[e._v("Â "+e._s(e.viewPrice(e.questionModel.answer.t))+" "+e._s(e.currency))])])],2)])]):e._e()]),e._v(" "),t("i-question-validation",{ref:"input",attrs:{required:e.questionModel.isRequired,notFocusInput:e.formModel.baseSettings.cardDesign,rules:e.formModel.validationRules[e.questionModel._id]._},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}),e._v(" "),t("i-popup",{staticClass:"product-detail-popup",attrs:{"close-button":"",fullscreen:""},model:{value:e.variantPopup.isOpen,callback:function(t){e.$set(e.variantPopup,"isOpen",t)},expression:"variantPopup.isOpen"}},[e.variantPopup.isOpen?t("div",{staticClass:"product-popup"},[t("div",{staticClass:"product-popup-colomn",attrs:{id:"product-slide"}},[t("div",{staticClass:"product-colomn-img"},[t("div",{staticClass:"zoom",style:"background-image: url("+e.currentImage(e.variantPopup.pIndex,e.currentNumber)+")",on:{mousemove:e.zoom}},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.currentImage(e.variantPopup.pIndex,e.currentNumber),expression:"currentImage(variantPopup.pIndex, currentNumber)"}]})])]),e._v(" "),e.selectedProduct.fileIds&&e.selectedProduct.fileIds.length>1?t("div",{staticClass:"slider-navigation"},[t("a",{on:{click:e.prev}},[t("i-icon",{attrs:{icon:"angle-left"}})],1),e._v(" "),t("a",{on:{click:e.next}},[t("i-icon",{attrs:{icon:"angle-right"}}),e._v(" "),t("div")],1)]):e._e()]),e._v(" "),t("div",{staticClass:"product-popup-colomn popup-add-variant"},[e.selectedProduct?t("div",{staticClass:"product-colomn-title"},[t("h2",{staticClass:"product-title"},[e._v(e._s(e.selectedProduct.name))])]):e._e(),e._v(" "),e.selectedProduct?t("div",{staticClass:"product-desc popup-desc"},[e.selectedProduct.longDesc?t("p",{domProps:{innerHTML:e._s(e.BbCode.bbcodeToHtml(e.selectedProduct.longDesc))}}):t("p",[e._v(e._s(e.selectedProduct.desc))])]):e._e(),e._v(" "),t("div",{staticClass:"add-variant-section"},[t("div",{staticClass:"product-option"},e._l(e.visibleVariants,(function(i,o){return t("div",{key:o,staticClass:"product-option-item"},[t("label",{staticClass:"label"},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(i.name)+" "),e.variantPopup.showAlert&&!i.value?t("span",{staticClass:"error"},[t("i-icon",{attrs:{icon:"exclamation-circle"}}),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.youMustSelectVariant",{variantname:i.name}))}})],1):e._e()]),e._v(" "),t("div",{staticClass:"product-option-content"},e._l(i.options,(function(o){return t("div",{key:o,staticClass:"product-radio"},[i.disableOptions&&i.disableOptions.find(e=>e===o)?e._e():t("div",{ref:i._id+"-"+o,refInFor:!0},[t("input",{staticClass:"f-input",attrs:{type:"checkbox",name:i._id},domProps:{value:o},on:{click:function(t){return e.selectVariant(i._id,o)}}}),e._v(" "),t("label",[e._v(e._s(o))])])])})),0)])})),0)]),e._v(" "),e.selectedProduct.detailUrl&&""!==e.selectedProduct.detailUrl.trim()?t("div",[t("a",{staticClass:"product-detail-url",attrs:{href:e.fixedUrl(e.selectedProduct.detailUrl),target:"_blank"}},[e._v(e._s(e.$t("details"))+"\n\t\t\t\t\t\t"),t("i-icon",{attrs:{icon:"external-link"}})],1)]):e._e(),e._v(" "),t("div",{staticClass:"product-basket-detail-bottom-column"},[t("div",{staticClass:"product-price text-right"},[t("p",[e._v(e._s(e.productLastPrice))])]),e._v(" "),t("div",{staticClass:"product-basket-detail-bottom"},[t("div",{staticClass:"product-basket-button"},[t("div",{staticClass:"product-number"},[t("b",[e._v(e._s(e.selectedProduct.unit))]),e._v(" "),t("i-text",{attrs:{type:"number",min:"0"},on:{change:e.selectVariant,input:function(t){return e.roundNumber(e.variantPopup.pIndex)}},model:{value:e.selectedProduct.amount,callback:function(t){e.$set(e.selectedProduct,"amount",t)},expression:"selectedProduct.amount"}})],1)]),e._v(" "),t("i-button",{staticClass:"product-popup-button",attrs:{"prepend-icon":"shopping-basket"},domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.addToBasket"))},on:{click:function(t){return e.addBasket(e.variantPopup.pIndex)}}})],1)])])]):e._e()]),e._v(" "),t("i-popup",{staticClass:"basket-content-popup",attrs:{"close-button":""},model:{value:e.showBasket,callback:function(t){e.showBasket=t},expression:"showBasket"}},[t("div",{staticClass:"result"},[t("div",{staticClass:"result-view records basket-content"},[e.questionModel.answer&&e.questionModel.answer.p&&e.questionModel.answer.p.length>0?t("div",{staticClass:"table-wrapper"},[t("div",{staticClass:"table-overflow-wrapper"},[t("table",[t("thead",[t("tr",[t("th",[e._v(e._s(e.$t("questionTypes.productbasket.product")))]),e._v(" "),t("th",[e._v(e._s(e.$t("questionTypes.productbasket.preferences")))]),e._v(" "),t("th",[e._v(e._s(e.$t("questionTypes.productbasket.unitprice")))]),e._v(" "),t("th",[e._v(e._s(e.$t("amount")))]),e._v(" "),t("th",[e._v(e._s(e.$t("total")))]),e._v(" "),t("th")])]),e._v(" "),t("tbody",e._l(e.questionModel.answer.p,(function(i,o){return t("tr",{key:o},[t("td",[e._v(e._s(i.n))]),e._v(" "),t("td",[t("ul",e._l(i.v,(function(i,o){return t("li",{key:o},[e._v(e._s(i.n)+": "+e._s(i.v))])})),0)]),e._v(" "),t("td",{staticClass:"text-right",attrs:{nowrap:""}},[e._v(e._s(e.viewPrice(i.p))+" "+e._s(e.currency))]),e._v(" "),t("td",{staticClass:"unit-detail",attrs:{nowrap:""}},[t("i-text",{staticClass:"basket-inner-unit",attrs:{type:"number",min:"0"},on:{input:function(t){return e.changeAmount(o)}},model:{value:e.basketItemAmounts[o],callback:function(t){e.$set(e.basketItemAmounts,o,t)},expression:"basketItemAmounts[pIndex]"}}),e._v(" "),t("span",{staticClass:"units"},[e._v(e._s(i.u))])],1),e._v(" "),t("td",{staticClass:"text-right",attrs:{nowrap:""}},[t("b",[e._v(e._s(e.viewPrice(i.t))+" "+e._s(e.currency))])]),e._v(" "),t("td",[t("a",{staticClass:"record-delete",on:{click:function(t){return e.removeBasket(o)}}},[t("i-icon",{attrs:{icon:"trash"}})],1)])])})),0),e._v(" "),t("tfoot",[e._l(e.summaryList,(function(i,o){return t("tr",{key:o},[t("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t("span",[e._v(e._s(e.$t(i.label)||i.label)+":")])]),e._v(" "),t("td",{staticClass:"text-right",attrs:{nowrap:""}},[t("b",[e._v(e._s(e.$t(i.text)||i.text))])]),e._v(" "),t("td",[t("span")])])})),e._v(" "),t("tr",[t("td",{staticClass:"text-right",attrs:{colspan:"4"}},[t("span",[e._v(e._s(e.$t("total"))+":")])]),e._v(" "),t("td",{staticClass:"text-right",attrs:{nowrap:""}},[t("b",[e._v(e._s(e.viewPrice(e.questionModel.answer.t))+" "+e._s(e.currency))])]),e._v(" "),t("td",[t("span")])])],2)])]),e._v(" "),t("div",{staticClass:"product-basket-sales-button"},[t("i-button",{staticClass:"product-sales-popup-btn outline",attrs:{outline:""},domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.continueShopping"))},on:{click:function(t){e.showBasket=!1}}}),e._v(" "),t("i-button",{staticClass:"product-sales-popup-btn",attrs:{"prepend-icon":"money-bill",solid:""},domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.completeShopping"))},on:{click:e.checkout}})],1)]):t("i-alert",{staticClass:"no-product-alert",attrs:{type:"info"},domProps:{innerHTML:e._s(e.$t("questionTypes.productbasket.noProductInBasket"))}})],1)])])],1)};o._withStripped=!0;var s=i("lSNA"),n=i.n(s),a=(i("toAj"),i("E9XD"),i("rB9j"),i("UxlC"),i("4l63"),i("yq1k"),i("JTJg"),i("NRfZ")),r=i("tL2h"),l=i("ttAG"),u=i("Cjzc"),d=i("Iukd"),c=i("bNzB"),p=i("RuLz");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}var m={name:"productbasketInput",mixins:[u.a,d.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{currentNumber:0,showBasket:!1,totalAmount:0,showImg:!1,basketItemAmounts:[],baseUrl:a.a.fileApi,bigImageSrc:null,variantPopup:{isOpen:!1,pIndex:null,showAlert:!1},productStocks:null,productsStatus:{},selectedMainCategory:null,selectedSubCategories:{},visibleVariants:[],selectedVariants:{},searchKeyword:"",selectedProductLastPrice:"",summaryList:[],totalProductPrice:0,BbCode:p.a}},methods:{changeViewType:function(e){this.questionModel.productbasket.viewType.defaultViewType=e},checkout:function(){if(this.showBasket=!1,this.formModel.baseSettings.cardDesign)this.$emit("nextQuestion");else{for(var e=document.getElementsByClassName("question"),t=0,i=0;i<e.length;i++)e[i].id===this.questionModel._id&&(t=i);var o=t+1;e.length>o&&this.$goTo(e[o].offsetTop)}},selectCategory:function(e){this.selectedSubCategories[e._id]?(this.$set(this.selectedSubCategories,e._id,null),delete this.selectedSubCategories[e._id]):this.$set(this.selectedSubCategories,e._id,e)},currentImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.selectedProduct;if(i&&i.fileIds&&i.fileIds.length>0){var o=i.fileIds[Math.abs(t)%i.fileIds.length];return this.formModel.formTempFiles&&this.formModel.formTempFiles[o]?this.baseUrl+"/tempfile/"+this.formModel._id+"/"+o:this.baseUrl+"/formfile/"+this.formModel._id+"/"+o}return"/static/img/no-product-img.jpg"},openVariantPopup:function(e){if(!this.readonly){this.currentNumber=0,this.variantPopup.showAlert=!1,this.variantPopup.pIndex=e;var t=this.selectedProduct;this.variantPopup.isOpen=!0,this.visibleVariants=t.variants;for(var i=0;i<this.visibleVariants.length;i++)this.visibleVariants[i].value=void 0;this.selectedVariants={},this.$router.push(this.$route.path+"#"+this.fixProductNameForUrl(t,e)).catch(()=>{}),this.$nextTick(()=>{var e=document.getElementById("product-slide"),t=this;if("ontouchstart"in window){e.addEventListener("touchstart",(function(e){var i=(new Date).getTime(),o=e.changedTouches[0].pageX;document.addEventListener("touchend",(function e(s){document.removeEventListener("touchend",e);var n=s.changedTouches[0].pageX-o;(new Date).getTime()-i<400&&Math.abs(n)>50&&(n<0?t.next():t.prev())}))}))}this.selectVariant()})}},roundNumber:function(e){this.selectedProduct.amount=Math.floor(this.selectedProduct.amount)},getAnswerProductIndex:function(e,t){if(this.questionModel.answer.p)for(var i=0;i<this.questionModel.answer.p.length;i++){var o=this.questionModel.answer.p[i];if(o.pid===e._id)if(o.v){if(t){for(var s=0,n=0;n<o.v.length;n++)for(var a=o.v[n],r=0;r<t.length;r++){var l=t[r];l.n===a.n&&l.v===a.v&&s++}if(s===e.variants.length)return i}}else if(!e.variants||e.variants&&0===e.variants.length)return i}return null},fixPrice:function(e){return Number(e.toFixed(2))},viewPrice:function(e){return Number(e).toFixed(2)},addBasket:function(e,t){var i=this.selectedProduct||t,o=Number(i.amount||i.a);if(o&&!(o&&o<1)){var s=this.lastProductPrice(i,!0);if(s){var n=s.variants,a=s.price,r=this.fixPrice(o*a),l=this.getAnswerProductIndex(i,n),u={pid:i._id,n:i.name||i.n,ta:i.tags||i.ta,p:a,u:i.unit||i.u,a:o,t:r,v:n};this.questionModel.answer.p?null===l||t?(this.basketItemAmounts.push(u.a),this.questionModel.answer.p.push(u)):(this.questionModel.answer.p[l].t+=r,this.questionModel.answer.p[l].t=this.fixPrice(this.questionModel.answer.p[l].t),this.questionModel.answer.p[l].a+=o,this.basketItemAmounts[l]=this.questionModel.answer.p[l].a):(this.basketItemAmounts=[u.a],this.questionModel.answer.p=[u]),this.$root.pushNotification(this.$t("questionTypes.productbasket.productsAddedYourBasket",{amountandunit:o+" "+(i.unit||i.u)})),this.$emit("onInput",this.questionModel),this.variantPopup.isOpen=!1,this.calculatePrice()}}},removeBasket:function(e){this.questionModel.answer.p.splice(e,1),this.basketItemAmounts.splice(e,1),this.calculatePrice()},changeAmount:function(e){this.basketItemAmounts[e]=Math.floor(this.basketItemAmounts[e]);var t=this.basketItemAmounts[e],i=this.questionModel.answer.p[e],o=i.a;if(t&&t>0){var s=this.fixPrice(Number(t)*i.p);i.t=this.fixPrice(s),i.a=Number(t)}else this.basketItemAmounts[e]=o;this.calculatePrice()},getProductFirstFileSrc:function(e){!e.fileIds&&e.fileId&&(e.fileIds=[e.fileId]);var t=e.fileIds[0];return t&&""!==t&&this.formModel.formTempFiles&&this.formModel.formTempFiles[t]?this.baseUrl+"/tempfile/"+this.formModel._id+"/"+t:t&&""!==t?this.baseUrl+"/formfile/"+this.formModel._id+"/"+t:"/static/img/no-product-img.jpg"},showBigImage:function(e){this.bigImageSrc=e,this.showImg=!0},fixProducts:function(){this.questionModel.productbasket.products&&this.questionModel.productbasket.products.forEach(e=>{if(e.amount||(e.amount=1),e.stock&&e.stock.isEnable&&(this.$set(this.productsStatus,e._id,e.stock.whenOutOfStock),this.productStocks)){var t=this.productStocks[e._id];if(t){if(t>0)this.$set(this.productsStatus,e._id,"show");else if(t.length>0)for(var i=0;i<t.length;i++)t[i]&&t[i].a>0&&this.$set(this.productsStatus,e._id,"show")}else void 0===t&&this.$set(this.productsStatus,e._id,"show")}})},fixedUrl:function(e){return l.default.fixedUrl(e)},prev:function(){this.currentNumber-=1},next:function(){this.currentNumber+=1},checkStock:function(e,t){var i=t.amount;if(this.questionModel.answer.p)for(var o=this.questionModel.answer.p.filter(e=>e.pid===t._id),s=0;s<o.length;s++){var n=0;for(var a in e.v)e.v[a]===o[s].v[n].v&&n++;n===o[s].v.length&&(i+=o[s].a)}return e.a>=i},selectVariant:function(e,t){var i=this;this.selectedVariants||(this.selectedVariants={});var o=this.selectedProduct;this.variantPopup.showAlert=!1;for(var s=document.getElementsByName(e),n=0;n<s.length;n++)t!==s[n].value&&(s[n].checked=!1);var a=this.visibleVariants.find(t=>t._id===e);if(a&&(this.selectedVariants[e]!==t?(this.selectedVariants[e]=t,a.value=t):(delete this.selectedVariants[e],a.value=void 0),this.$set(this,"visibleVariants",this.visibleVariants)),this.lastProductPrice(o),"continue"!==o.stock.whenOutOfStock&&o&&o.stock&&o.stock.isEnable&&this.productStocks[o._id]){for(var r=this.productStocks[o._id],l={},u=Object.keys(this.selectedVariants).length,d=0;d<r.length;d++){var c=r[d];if(this.checkStock(c,o)){var p=0;for(var h in this.selectedVariants){var m=this.selectedVariants[h],f=c.v[h];f&&f===m&&p++}if(p===u)for(var M in c.v)f=c.v[M],l[M]=l[M]||[],-1===l[M].indexOf(f)&&l[M].push(f)}}for(var v=function(e){var t=o.variants[e],s=t.options;w=l[t._id];for(var n=0;n<s.length;n++)b=s[n],_=t._id+"-"+b,w&&w.indexOf(b)>-1?i.$refs[_][0].classList.remove("variant-disable"):(i.$refs[_][0].classList.add("variant-disable"),i.selectedVariants[t._id]===b&&(i.visibleVariants.find(e=>e._id===t._id).value=void 0,i.$refs[_][0].firstElementChild.checked=!1,delete i.selectedVariants[t._id]))},q=0;q<o.variants.length;q++){var w,b,_;v(q)}}},zoom:function(e){var t=e.currentTarget;e.offsetX?this.offsetX=e.offsetX:this.offsetX=e.clientX,e.offsetY?this.offsetY=e.offsetY:this.offsetY=e.clientY;var i=this.offsetX/t.offsetWidth*100,o=this.offsetY/t.offsetHeight*100;t.style.backgroundPosition=i+"% "+o+"%"},lastProductPrice:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.variants&&e.variants.length>0){for(var i=[],o=0;o<e.variants.length;o++){var s=e.variants[o];if(!s.value)return this.selectedProductLastPrice=null,void(t&&(this.variantPopup.showAlert=!0));i.push({n:s.name,v:s.value})}var n=this.productStocks[e._id],a=-1;if(n&&e.variantPrice&&e.variantPrice.isEnable)for(var r=0;r<n.length;r++){var l=0;for(var u in n[r].v){if(n[r].v[u]!==i[l].v)break;if(l+1===i.length){a=n[r].p;break}l++}if(-1!==a)break}return this.selectedProductLastPrice=-1===a?e.price:a,{variants:i,price:this.selectedProductLastPrice}}return{variants:[],price:e.price}},productListPrice:function(e){return e.variantPrice&&e.variantPrice.isEnable?"".concat(this.viewPrice(e.variantPrice.minPrice)," ").concat(this.currency," - ").concat(this.viewPrice(e.variantPrice.maxPrice)," ").concat(this.currency):this.viewPrice(e.price)+" "+this.currency},calculatePrice:function(){this.totalAmount=0,this.questionModel.answer.t=0,this.totalProductPrice=0,this.questionModel.answer.c||(this.questionModel.answer.c=this.questionModel.productbasket.currency),this.questionModel.answer.p||(this.questionModel.answer.p=[]);for(var e=0;e<this.questionModel.answer.p.length;e++){var t=this.questionModel.answer.p[e];this.totalAmount+=t.a,this.totalProductPrice+=t.a*t.p}this.totalProductPrice=this.fixPrice(this.totalProductPrice),this.summaryList=[],this.totalProductPrice>0&&(this.summaryList=[{label:"questionTypes.productbasket.subtotal",text:this.totalProductPrice+" "+this.currency,value:this.totalProductPrice}]);var i=this.questionModel.productbasket.shippings;if(i&&i.length>0){var o=i[0],s={label:"questionTypes.productbasket.shipping"};o.isFree?s.text="questionTypes.productbasket.freeShipping":(s.text=o.fee+" "+this.currency,s.value=o.fee),this.summaryList.push(s)}for(var n=0;n<this.summaryList.length;n++)this.summaryList[n].value&&(this.questionModel.answer.t+=this.summaryList[n].value);this.questionModel.answer.t=this.fixPrice(this.questionModel.answer.t),this.$emit("runFormValidation")}},created:function(){r.a.getFormProductStocksPublic(this.formModel._id,e=>{e||(e={}),this.$set(this,"productStocks",e),this.fixProducts()}),this.fixProducts(),this.$set(this.questionModel,"answer",c.a.getDefaultAnswer(this.questionModel)),this.calculatePrice(),setTimeout(()=>{if(this.questionModel.answer&&this.questionModel.answer.p&&(this.basketItemAmounts=this.questionModel.answer.p.map(e=>e.a),this.basketItemAmounts.length>0?this.totalAmount=this.basketItemAmounts.reduce((e,t)=>e+t):this.totalAmount=0,this.calculatePrice()),this.$route.hash){var e=this.$route.hash.replace("#",""),t=parseInt(e.split("-")[e.split("-").length-1]);this.openVariantPopup(t)}if(this.$route.query.p){var i=parseInt(this.$route.query.p.split("-")[this.$route.query.p.split("-").length-1]);this.openVariantPopup(i)}},100),c.a.fixUndefinedViewTypes(this.questionModel)},computed:{selectedViewType:function(){return this.questionModel.productbasket.viewType.viewTypes.length<2&&this.questionModel.productbasket.viewType.viewTypes[0]!==this.questionModel.productbasket.viewType.viewTypes.defaultViewType?this.questionModel.productbasket.viewType.viewTypes[0]:this.questionModel.productbasket.viewType.defaultViewType},selectedCategorySubCategories:function(){var e=[];if(!this.selectedMainCategory)return e;for(var t=this.questionModel.productbasket.categories.filter(e=>e.parentId===this.selectedMainCategory._id),i=0;i<t.length;i++)e.push(t[i]);return e},mainCategories:function(){return(this.questionModel.productbasket.categories||[]).filter(e=>!e.parentId)},filteredProducts:function(){var e=[],t=this.questionModel.productbasket.products.filter(e=>"hide"!==this.productsStatus[e._id]);t=this.questionModel.productbasket.products.filter(e=>!e.hidden);var i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.selectedSubCategories);if(0===Object.keys(i).length&&this.selectedMainCategory&&(i[this.selectedMainCategory._id]=this.selectedMainCategory),Object.keys(i).length>0)for(var o=0;o<t.length;o++){var s=t[o];if(s.categories)for(var a=0;a<s.categories.length;a++){i[s.categories[a]._id]&&!e.includes(s)&&e.push(s)}}else e=t;return this.searchKeyword&&(e=e.filter(e=>e.name.toLowerCase().includes(this.searchKeyword.toLowerCase()))),e},selectedProduct:function(){var e=this.filteredProducts[this.variantPopup.pIndex];return e.variants||(e.variants=[]),e},productLastPrice:function(){return this.selectedProduct.variantPrice&&this.selectedProduct.variantPrice.isEnable?this.selectedProductLastPrice&&this.selectedProductLastPrice+" "+this.currency||"".concat(this.viewPrice(this.selectedProduct.variantPrice.minPrice)," ").concat(this.currency," - ").concat(this.viewPrice(this.selectedProduct.variantPrice.maxPrice)," ").concat(this.currency):this.viewPrice(this.selectedProduct.price)+" "+this.currency},currency:function(){return c.a.currencySymbol(this.questionModel.productbasket.currency)},isSearchable:function(){return this.questionModel.productbasket.products.length>10}},watch:{selectedMainCategory:function(){this.$set(this,"selectedSubCategories",{})},"variantPopup.isOpen":function(){this.variantPopup.isOpen||this.$router.push(this.$route.path)}}},f=(i("e8Pv"),i("KHd+")),M=Object(f.a)(m,o,[],!1,null,"68cf75f4",null);t.default=M.exports},IwQF:function(e,t,i){},Lkdo:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{class:{full:!e.questionModel.phone.mask&&""===e.maskPattern,"invalid-input-wrapper":!e.isValid}},[!e.questionModel.phone.mask&&e.questionModel.phone.isShowCountrycode?t("i-text",{ref:"inputC",staticClass:"short-input",attrs:{type:"tel",placeholder:e.questionModel.phone.labels.countrycode,name:"phone-country-code",autocomplete:"tel-country-code",noValidationElement:"",rules:e.validationRules.c,readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.countrycode,callback:function(t){e.$set(e.questionModel.answer,"countrycode",t)},expression:"questionModel.answer.countrycode"}}):e._e(),e._v(" "),!e.questionModel.phone.mask&&e.questionModel.phone.isShowAreacode?t("i-text",{ref:"inputA",staticClass:"short-input",attrs:{type:"tel",placeholder:e.questionModel.phone.labels.areacode,name:"phone-area-code",autocomplete:"tel-area-code",noValidationElement:"",rules:e.validationRules.a,readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.areacode,callback:function(t){e.$set(e.questionModel.answer,"areacode",t)},expression:"questionModel.answer.areacode"}}):e._e(),e._v(" "),e.questionModel.phone.mask&&""!==e.maskPattern?t("IMaskedText",{ref:"inputP",attrs:{mask:e.maskPattern,type:"number",required:e.questionModel.isRequired,placeholder:e.questionModel.placeholder&&""!==e.questionModel.placeholder&&e.questionModel.placeholder!==e.questionModel.question?e.questionModel.placeholder:e.questionModel.phone.maskPattern,"prepend-icon":"phone",readonly:e.readonly,name:"phone",autocomplete:"off",noValidationElement:"",rules:e.validationRules.p},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.phone,callback:function(t){e.$set(e.questionModel.answer,"phone",t)},expression:"questionModel.answer.phone"}}):e._e(),e._v(" "),e.questionModel.phone.mask&&""!==e.maskPattern?e._e():t("i-text",{ref:"inputP",attrs:{"prepend-icon":"phone",type:"tel",placeholder:e.questionModel.placeholder,name:"phone",autocomplete:e.questionModel.phone.isShowCountrycode||e.questionModel.phone.isShowAreacode?"tel-national":"tel",noValidationElement:"",rules:e.validationRules.p,readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.phone,callback:function(t){e.$set(e.questionModel.answer,"phone",t)},expression:"questionModel.answer.phone"}}),e._v(" "),e.questionModel.phone.isShowExtension&&!e.questionModel.phone.mask?t("i-text",{ref:"inputE",staticClass:"short-input",attrs:{placeholder:e.questionModel.phone.labels.extension,type:"tel",name:"phone-extension",autocomplete:"tel-extension",noValidationElement:"",rules:e.validationRules.e,readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.extension,callback:function(t){e.$set(e.questionModel.answer,"extension",t)},expression:"questionModel.answer.extension"}}):e._e()],1),e._v(" "),e.errorMessage?t("span",{staticClass:"helper-text"},[t("span",{staticClass:"arrow"}),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.BbCode.cleanTextFromBBCode(e.errorMessage))}})]):e._e()])};o._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ"),i("SYor"),i("rB9j"),i("UxlC");var s=i("Cjzc"),n=i("RuLz"),a=i("NPEM"),r={name:"phoneInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},components:{IMaskedText:()=>i.e(141).then(i.bind(null,"C8wv"))},data:function(){var e="";return this.questionModel.phone.mask&&this.questionModel.phone.maskPattern&&""!==this.questionModel.phone.maskPattern.trim()&&(e={pattern:this.questionModel.phone.maskPattern?this.questionModel.phone.maskPattern.replace(/1/g,"\\1"):void 0,formatCharacters:{"@":{validate:e=>/^[A-Za-zÐ-Ð¯Ð°-ÑÄÃ¼ÅÃ¶Ã§Ä°ÄÃÅÃÃ]$/.test(e)},"#":{validate:e=>/^[0-9]$/.test(e),transform:e=>e.toUpperCase()},"*":{validate:()=>!0}}}),{maskPattern:e,isValid:!0,errorMessage:null,erroredVmObject:{},BbCode:n.a}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",a.a.getDefaultAnswer(this.questionModel))},methods:{onValidation:function(e,t,i){for(var o in this.erroredVmObject[i._uid]=t,t||delete this.erroredVmObject[i._uid],this.erroredVmObject)if(this.erroredVmObject[o])return void(this.errorMessage=this.erroredVmObject[o]);this.errorMessage=null}},computed:{inputs:function(){var e=[this.$refs.inputP];return this.questionModel.phone.mask||(this.questionModel.phone.isShowAreacode&&e.unshift(this.$refs.inputA),this.questionModel.phone.isShowCountrycode&&e.unshift(this.$refs.inputC),this.questionModel.phone.isShowExtension&&e.push(this.$refs.inputE)),e},validationRules:function(){return this.formModel.validationRules[this.questionModel._id]}}},l=i("KHd+"),u=Object(l.a)(r,o,[],!1,null,null,null);t.default=u.exports},"Lv/v":function(e,t,i){},Nm91:function(e,t,i){},OARV:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body scroll-content selections",class:{"invalid-input-wrapper":!e.isValid}},[t("div",{staticClass:"selection-matrix-table"},[t("div",{staticClass:"selection-matrix-table-top"},[t("div",{staticClass:"matrix-table-title left-value-buffer"}),e._v(" "),e._l(e.questionModel.selectionmatrix.columns,(function(i){return t("div",{key:i._id,staticClass:"matrix-table-title main-title-matrix"},[e._v("\n\t\t\t\t"+e._s(i.text)+"\n\t\t\t")])}))],2),e._v(" "),e._l(e.questionModel.selectionmatrix.rows,(function(i){return t("div",{key:i._id,staticClass:"selection-matrix-body"},[t("div",{staticClass:"selection-matrix-left-value"},[e._v(e._s(i.text))]),e._v(" "),e._l(e.questionModel.selectionmatrix.columns,(function(o){return t("div",{key:o._id,staticClass:"selection-matrix-checkbox"},["radio"===i.type?t("div",[t("i-radio",{staticClass:"radio form-input-choice",attrs:{value:o._id,uncheckable:"",readonly:e.readonly,checked:e.questionModel.answer[i._id]},on:{change:function(t){return e.onInputChanged(t,i._id)}}})],1):t("div",[t("i-checkbox",{staticClass:"checkbox form-input-choice",attrs:{readonly:e.readonly,checked:e.questionModel.answer[i._id+"-"+o._id]},on:{change:function(t){return e.onInputChanged(t,i._id,o._id)}}})],1)])}))],2)}))],2),e._v(" "),t("i-question-validation",{ref:"input",attrs:{required:e.questionModel.isRequired,waitValidateForSubmit:"true",rules:e.formModel.validationRules[e.questionModel._id]},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};o._withStripped=!0;var s=i("Cjzc"),n=i("RQlP"),a={name:"selectionmatrixInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,onChange:Function,readonly:Boolean},data:function(){return{isValid:!0}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))},methods:{onInputChanged:function(e,t,i){var o=t;i&&(o+="-"+i),e?this.$set(this.questionModel.answer,o,e):this.$delete(this.questionModel.answer,o),this.$emit("onInput",this.questionModel)}}},r=(i("nEIV"),i("KHd+")),l=Object(r.a)(a,o,[],!1,null,"83e5995e",null);t.default=l.exports},"P+k4":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full"},[e.questionModel.fullname.prefix?t("i-text",{ref:"inputP",staticClass:"short-input",attrs:{placeholder:e.questionModel.fullname.labels.prefix,name:"name-prefix",autocomplete:"honorific-prefix",noValidationElement:"",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.prefix,callback:function(t){e.$set(e.questionModel.answer,"prefix",t)},expression:"questionModel.answer.prefix"}}):e._e(),e._v(" "),t("i-text",{ref:"inputN",attrs:{placeholder:e.questionModel.fullname.labels.firstName,rules:e.validationRules.fn,name:"name",autocomplete:"given-name",noValidationElement:"",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.firstName,callback:function(t){e.$set(e.questionModel.answer,"firstName",t)},expression:"questionModel.answer.firstName"}}),e._v(" "),e.questionModel.fullname.middle?t("i-text",{attrs:{placeholder:e.questionModel.fullname.labels.middle,name:"middle-name",autocomplete:"additional-name",noValidationElement:"",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.middle,callback:function(t){e.$set(e.questionModel.answer,"middle",t)},expression:"questionModel.answer.middle"}}):e._e(),e._v(" "),t("i-text",{ref:"inputL",attrs:{placeholder:e.questionModel.fullname.labels.lastName,rules:e.validationRules.ln,name:"last-name",autocomplete:"family-name",noValidationElement:"",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.lastName,callback:function(t){e.$set(e.questionModel.answer,"lastName",t)},expression:"questionModel.answer.lastName"}}),e._v(" "),e.questionModel.fullname.suffix?t("i-text",{staticClass:"short-input",attrs:{placeholder:e.questionModel.fullname.labels.suffix,name:"name-suffix",autocomplete:"honorific-suffix",noValidationElement:"",readonly:e.readonly},on:{input:function(t){return e.$emit("onInput",e.questionModel)},validation:e.onValidation},model:{value:e.questionModel.answer.suffix,callback:function(t){e.$set(e.questionModel.answer,"suffix",t)},expression:"questionModel.answer.suffix"}}):e._e()],1),e._v(" "),e.errorMessage?t("span",{staticClass:"helper-text"},[t("span",{staticClass:"arrow"}),e._v(" "),t("span",{domProps:{innerHTML:e._s(e.errorMessage)}})]):e._e()])};o._withStripped=!0;var s=i("Cjzc"),n=i("Msdk"),a={name:"fullnameInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,rnd:String,readonly:Boolean},data:()=>({errorMessage:null,erroredVmObject:{}}),created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))},methods:{onValidation:function(e,t,i){for(var o in this.erroredVmObject[i._uid]=t,t||delete this.erroredVmObject[i._uid],this.erroredVmObject)if(this.erroredVmObject[o])return void(this.errorMessage=this.erroredVmObject[o]);this.errorMessage=null}},computed:{inputs:function(){var e=[this.$refs.inputN,this.$refs.inputL];return this.questionModel.fullname.prefix&&e.unshift(this.$refs.inputP),e},validationRules:function(){return this.formModel.validationRules[this.questionModel._id]}}},r=i("KHd+"),l=Object(r.a)(a,o,[],!1,null,null,null);t.default=l.exports},Pl26:function(e,t,i){var o=i("LboF"),s=i("1+0n");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},RD8t:function(e,t,i){var o=i("LboF"),s=i("GIbk");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},Rgzu:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this._self._c;return e("div",{staticClass:"question-body"},[e("div",{staticClass:"wysiwyg break-word",domProps:{innerHTML:this._s(this.wysiwyg)}})])};o._withStripped=!0;i("rB9j"),i("UxlC");var s=i("RuLz"),n={name:"seperatorInput",mixins:[i("Cjzc").a],props:{questionModel:Object,formModel:Object},computed:{wysiwyg:function(){return s.a.bbcodeToHtml(this.questionModel.wysiwyg.content).replace(/<p><\/p>/g,"<br><br>")}}},a=(i("Dpqe"),i("KHd+")),r=Object(a.a)(n,o,[],!1,null,"1ba0ab76",null);t.default=r.exports},"Rq/n":function(e,t,i){var o=i("LboF"),s=i("0aqK");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},VfWq:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("i-text",{ref:"input",attrs:{type:"tel",numeric:"","prepend-icon":"sort-numeric-up-alt",readonly:e.readonly,placeholder:e.questionModel.placeholder,rules:e.formModel.validationRules[e.questionModel._id]},on:{focusout:e.onFocusOut,focus:function(t){return e.$emit("onFocus",e.questionModel)},input:e.onInput},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};o._withStripped=!0;i("rB9j"),i("UxlC"),i("toAj");var s=i("Cjzc"),n=i("+ZKO"),a={name:"numberInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},methods:{onInput:function(){this.$emit("onInput",this.questionModel)},onFocusOut:function(){this.questionModel.answer&&this.questionModel.number.decimals&&this.questionModel.number.decimals>0&&(this.questionModel.answer=this.questionModel.answer.replace(",","."),this.questionModel.answer=Number(this.questionModel.answer).toFixed(this.questionModel.number.decimals))}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))}},r=i("KHd+"),l=Object(r.a)(a,o,[],!1,null,null,null);t.default=l.exports},W8vf:function(e,t,i){var o=i("LboF"),s=i("Nm91");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},WiIs:function(e,t,i){var o=i("LboF"),s=i("jEb/");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},XKdE:function(e,t,i){"use strict";i("1d8N")},XSYl:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[e.lock?t("i-preloader"):e._e(),e._v(" "),t("div",{staticClass:"fineuploader-wrapper"},[t("i-fine-uploader",{ref:"input",attrs:{options:e.options,isShowThumbnail:!1,isShowFileName:!0,rules:e.formModel.validationRules[e.questionModel._id],lock:e.lock,readonly:e.readonly,maxSize:e.fileMaxSize,multiple:"",maxFileCount:e.maxFileCount,setAppVueVariable:e.setAppVueVariable},on:{input:function(t){return e.$emit("onInput",e.questionModel)},onInit:e.onInit,submitted:e.submitted,onError:e.onError,remove:e.remove,complete:e.complete},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1),e._v(" "),e.lock||null===e.errMsg?e._e():t("i-alert",{attrs:{type:"error"}},[e._v("\n\t\t"+e._s(e.errMsg)+"\n\t")])],1)};o._withStripped=!0;var s,n=i("yXPU"),a=i.n(n),r=i("NRfZ"),l=i("iAnd"),u=i("Cjzc"),d=i("PgN2"),c={name:"ImageUploadInput",mixins:[u.a],props:{questionModel:Object,formModel:Object,setAppVueVariable:Function,readonly:Boolean},data(){var e={request:{endpoint:r.a.fileApi+"/uploadanswerfile",method:"POST",params:{formId:this.formModel._id,formSession:this.formModel.uploadSession},inputName:"file",stopOnFirstInvalidFile:!0},validation:{allowedExtensions:this.questionModel.fileUpload.allowedFileTypes},multiple:!1,base64:null};return"private"===this.formModel.state&&(e.request.customHeaders={Authorization:"Bearer ".concat(this.$auth.getToken())}),{options:e,uploader:null,errMsg:null,createUserCalled:!1,lock:!1,fileMaxSize:r.a.answerFileUploadMaxSize,maxFileCount:this.questionModel.fileUpload&&this.questionModel.fileUpload.maxFileCount||r.a.maxUploadAnswerFileCount}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",d.a.getDefaultAnswer(this.questionModel))},methods:{chooseFile:function(){this.$refs.input.chooseFile()},onInit:function(e){this.uploader=e,this.uploader.on("onValidateBatch",e=>{if(0===this.questionModel.fileUpload.allowedFileTypes.length)return this.errMsg=this.$t("invalidFileType"),!1})},submitted:function(){this.lock=!0,this.errMsg=null},onError:function(e,t,i,o){o||(this.errMsg=i)},complete:(s=a()((function*(e,t,i){var o=this.$refs.input.$el.querySelector("canvas");o&&(this.base64=o.toDataURL("image/png"));var s=!0;if(i){this.questionModel.fileupload&&this.questionModel.fileupload.defaultValue&&(this.questionModel.fileupload.defaultValue=[]);var n=!0;if(i.fileId)this.questionModel.answer||(this.questionModel.answer=[]),this.questionModel.answer.push({uploadId:e,fid:i.fileId,t:i.fileType,s:i.fileSize}),this.formModel.uploadSession=i.formSession,this.uploader.methods._options.request.params.formSession=this.formModel.uploadSession,n=!1,this.$emit("onInput",this.questionModel);else if(i.errorCode&&2===i.errorCode)this.createUserCalled||(yield l.a.CreateUserByForm(this.formModel._id))&&(this.uploader.methods.retry(e),s=!1,n=!1),this.createUserCalled=!0;else if(i.error)this.errMsg=i.error;else{var a=" ".concat(this.$root.$t("notification.traceCode"),": FI0001");this.errMsg=this.$root.$t("notification.anErrorOccurred",{moreDetail:a})}n&&this.$refs.input.removeFile(e),s&&(this.lock=!1,this.setAppVueVariable("showMainLoader",!1))}})),function(e,t,i){return s.apply(this,arguments)}),remove:function(e){var t=this.questionModel.answer.findIndex(t=>t.uploadId===e);t>-1&&this.questionModel.answer.splice(t,1)}}},p=(i("CxRe"),i("KHd+")),h=Object(p.a)(c,o,[],!1,null,"0aa20d42",null);t.default=h.exports},Xdr2:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full grid-scroll scroll-content"},[e._l(e.questionModel.answer,(function(i,o){return t("div",{key:o,staticClass:"grid-table",class:{"invalid-grid":!1===e.rowValid[o]}},[t("i-button",{staticClass:"remove-grid",style:o>0?"margin-top: -15px":"",attrs:{disabled:0==o&&1==e.questionModel.answer.length,"prepend-icon":"trash"},on:{click:function(t){(0!=o||1!=e.questionModel.answer.length)&&e.onClickRemoveRow(o)}}}),e._v(" "),e._l(e.questionModel.grid.columns,(function(s,n){return t("div",{key:n},["text"===s.type?t("div",{staticClass:"grid-column"},[0==o?t("h4",{staticClass:"grid-column-title"},[e._v(e._s(s.name)),s.required?t("span",{staticClass:"grid-column-title-required"},[e._v(" *")]):e._e()]):e._e(),e._v(" "),t("i-text",{staticClass:"input grid-type",attrs:{"prepend-icon":"text",readonly:e.readonly,rules:e.formModel.validationRules[e.questionModel._id][s._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:function(t){return e.validation(t,s._id,o)}},model:{value:i[s._id],callback:function(t){e.$set(i,s._id,t)},expression:"rowAnswer[column._id]"}})],1):e._e(),e._v(" "),"date"===s.type?t("div",{staticClass:"grid-column"},[0==o?t("h4",{staticClass:"grid-column-title"},[e._v(e._s(s.name)),s.required?t("span",{staticClass:"grid-column-title-required"},[e._v(" *")]):e._e()]):e._e(),e._v(" "),t("IMaskedText",{attrs:{mask:e.maskPattern,"prepend-icon":"calendar",placeholder:"dd/mm/yyyy",required:s.required,readonly:e.readonly,rules:e.formModel.validationRules[e.questionModel._id][s._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:function(t){return e.validation(t,s._id,o)}},model:{value:i[s._id],callback:function(t){e.$set(i,s._id,t)},expression:"rowAnswer[column._id]"}})],1):e._e(),e._v(" "),"number"===s.type?t("div",{staticClass:"grid-column"},[0==o?t("h4",{staticClass:"grid-column-title"},[e._v(e._s(s.name)),s.required?t("span",{staticClass:"grid-column-title-required"},[e._v(" *")]):e._e()]):e._e(),e._v(" "),t("i-text",{staticClass:"grid-type",attrs:{type:"number","prepend-icon":"sort-numeric-up-alt","data-column":s._id,readonly:e.readonly,rules:e.formModel.validationRules[e.questionModel._id][s._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},validation:function(t){return e.validation(t,s._id,o)},change:function(t){return e.onNumberColumnChange(o,s._id)}},model:{value:i[s._id],callback:function(t){e.$set(i,s._id,t)},expression:"rowAnswer[column._id]"}})],1):e._e()])}))],2)})),e._v(" "),t("div",{staticClass:"grid-footer"},[t("div",{staticClass:"grid-footer-container input"},e._l(e.questionModel.grid.columns,(function(i,o){return t("div",{key:o},["text"===i.type||"date"===i.type?t("div",{staticClass:"grid-column grid-type"}):e._e(),e._v(" "),"number"===i.type&&i.sumOption?t("div",{staticClass:"grid-column grid-type"},[t("h4",{staticClass:"grid-column-title",attrs:{id:i._id}},[e._v(e._s(e.$t("total"))+": 0")])]):e._e()])})),0)])],2),e._v(" "),t("div",{staticClass:"add-grid-content"},[t("i-button",{staticClass:"grid-add-button",on:{click:function(t){!e.readonly&&e.onClickAddRow()}}},[t("i-icon",{attrs:{icon:"plus"}})],1)],1)])};o._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ"),i("rB9j"),i("rNhl");var s=i("Cjzc"),n=i("ewUQ"),a={name:"gridInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},components:{IMaskedText:()=>i.e(141).then(i.bind(null,"C8wv"))},data:function(){return{maskPattern:{pattern:"##/##/####",formatCharacters:{"#":{validate:e=>/^[0-9]$/.test(e)}}},valid:!0,rowValid:{},validationColumn:{}}},created:function(){var e=n.a.getDefaultAnswer(this.questionModel);this.questionModel.answer||this.$set(this.questionModel,"answer",e),0===this.questionModel.answer.length?this.addRowToAnswer():this.refreshColumnsSum()},methods:{onClickRemoveRow:function(e){this.questionModel.answer.splice(e,1),this.refreshColumnsSum()},addRowToAnswer:function(){var e={};this.questionModel.grid.columns.forEach(t=>{e[t._id]=""}),this.questionModel.answer.push(e)},onClickAddRow:function(){this.addRowToAnswer()},onNumberColumnChange:function(e,t){var i=this.questionModel.grid.columns.find(e=>e._id===t);i&&i.sumOption&&this.calculateColumn(t)},refreshColumnsSum:function(){this.$nextTick(()=>{this.questionModel.grid.columns.forEach(e=>{"number"===e.type&&e.sumOption&&this.calculateColumn(e._id)})})},calculateColumn:function(e){for(var t=0,i=document.querySelectorAll('[data-column="'+e+'"]'),o=0;o<i.length;o++){var s=i[o].getElementsByTagName("input")[0];s.value&&(t+=parseFloat(s.value))}document.getElementById(e).innerHTML=this.$t("total")+": "+t},validation:function(e,t,i){this.validationColumn[t+i]=e;var o=!0;for(var s in this.validationColumn)o=o&&this.validationColumn[s];this.rowValid[i]=o,this.valid=o}}},r=(i("nJvu"),i("KHd+")),l=Object(r.a)(a,o,[],!1,null,null,null);t.default=l.exports},Y28m:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full wrap"},[e.formRelatedQuestion?e._e():[t("div",{staticClass:"payment-total"},[e.questionModel.payment.canAmountBeEnter?t("div",[t("h4",[e._v("\n\t\t\t\t\t\t"+e._s(e.$t("questionTypes.payment.paymentTotal"))+" ("+e._s(e.currencySymbol(e.questionModel.payment.currency))+")\n\t\t\t\t\t")]),e._v(" "),t("i-text",{attrs:{"prepend-icon":"money-bill",rules:e.formModel.validationRules[e.questionModel._id].amount,required:!0},model:{value:e.questionModel.answer.amount,callback:function(t){e.$set(e.questionModel.answer,"amount",t)},expression:"questionModel.answer.amount"}})],1):t("h4",[e._v("\n\t\t\t\t\t"+e._s(e.$t("questionTypes.payment.paymentTotal"))+": "+e._s(e.questionModel.answer.amount)+e._s(e.currencySymbol(e.questionModel.answer.currency))+"\n\t\t\t\t")])])],e._v(" "),e.questionModel.payment.testmode&&"wirecard"!==e.questionModel.answer.gateway?t("div",{staticClass:"payment-gateway-select-item-wrapper"},[t("i-alert",{attrs:{type:"warning"}},[t("span",[e._v(e._s(e.$t("questionTypes.payment.testmode")))])])],1):e._e(),e._v(" "),t("div",{staticClass:"payment-gateway-wrapper"},[e.activeGateways.length>1?t("div",{staticClass:"payment-gateway-select-items"},e._l(e.activeGateways,(function(i){return t("componentselectitem"+i,{key:i,ref:"component",refInFor:!0,tag:"component",class:{activegateway:e.questionModel.answer.gateway===i},attrs:{questionModel:e.questionModel,readonly:e.readonly},on:{click:e.gatewayItemClick}})})),1):e._e()]),e._v(" "),e.activeGateways.length>0&&e.questionModel.answer.gateway?t("div",{staticClass:"payment-gateway-select-item-wrapper"},[t("componentinput"+e.questionModel.answer.gateway,{ref:"component",tag:"component",staticClass:"activegateway single",attrs:{questionModel:e.questionModel,readonly:e.readonly,formModel:e.formModel,singleGateway:1===e.activeGateways.length}})],1):e._e()],2)])};o._withStripped=!0;var s=i("lSNA"),n=i.n(s),a=i("ywtq"),r=i.n(a),l=i("NRfZ"),u=i("4B8W"),d=i.n(u),c=i("Cjzc"),p=i("+FQH");function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function m(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){n()(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f=m(m({},r.a.SelectItemComponents),r.a.InputComponents),M={name:"paymentInput",mixins:[c.a],components:f,props:{questionModel:Object,formModel:Object,readonly:Boolean},methods:{getRedirectUrls:function(){return{successUrl:l.a.baseUrl+window.location.pathname+"?resultaction=paymentsuccess",cancelUrl:l.a.baseUrl+window.location.pathname+"?resultaction=paymentcancel"}},currencySymbol:function(e){var t=d.a[e];return t?t.symbol:e},gatewayItemClick:function(e){this.readonly||(this.questionModel.answer.gateway=e,this.$emit("onInput",this.questionModel))}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",p.a.getDefaultAnswer(this.questionModel)),this.$emit("onInput",this.questionModel)},computed:{activeGateways:function(){var e=[];for(var t in this.questionModel.payment.gateways){this.questionModel.payment.gateways[t]&&e.push(t)}return e.find(e=>e===this.questionModel.payment.defaultGateway)||(this.questionModel.payment.defaultGateway=e[0]),e},formRelatedQuestion:function(){var e;return this.questionModel.payment.relatedQuestionId&&(e=this.formModel.questions.find(e=>e._id===this.questionModel.payment.relatedQuestionId)),e}}},v=i("KHd+"),q=Object(v.a)(M,o,[],!1,null,null,null);t.default=q.exports},YoDx:function(e,t,i){var o=i("LboF"),s=i("recK");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},Zkex:function(e,t,i){"use strict";i.r(t);i("4Brf");var o=function(){var e=this,t=e._self._c;return t("div",[e.questionModel.termsandconditions.showQuestionTitle?t("div",{staticClass:"question-info"},[e.questionModel.viewHelpers&&!e.formModel.baseSettings.hideQuestionNumber?t("span",{staticClass:"question-order"},[e._v(e._s(e.questionModel.viewHelpers.questionNumber)+".")]):e._e(),e._v(" "),t("div",{staticClass:"question-title-wrapper"},[t("p",{ref:"questionInput",staticClass:"question-title editable-input view",domProps:{innerHTML:e._s(e.BbCode.bbcodeToHtml(e.questionModel.question))}}),e._v(" "),e.questionModel.description?t("p",{staticClass:"question-description editable-input view",attrs:{placeholder:e.$t("description")}},[e._v("\n\t\t\t\t"+e._s(e.questionModel.description)+"\n\t\t\t")]):e._e()])]):e._e(),e._v(" "),t("div",{staticClass:"question-body",class:{"invalid-input-wrapper":!e.isValid}},[t("i-checkbox",{staticClass:"terms-checkbox",attrs:{"show-control":"",readonly:e.readonly},on:{change:function(t){return e.$emit("onInput",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}},[t("div",{staticClass:"t-and-c-label"},[e._v(e._s(e.questionModel.termsandconditions.label.beforeLinkedText)+"\n\t\t\t\t"),t("i-button",{attrs:{naked:""},on:{click:e.openTermsPopup}},[e._v("\n\t\t\t\t\t"+e._s(e.questionModel.termsandconditions.label.linkedText)+"\n\t\t\t\t")]),e._v("\n\t\t\t\t"+e._s(e.questionModel.termsandconditions.label.afterLinkedText)+"\n\t\t\t")],1)]),e._v(" "),t("i-question-validation",{ref:"input",attrs:{required:e.questionModel.isRequired,rules:e.formModel.validationRules[e.questionModel._id]},on:{validation:function(t){e.isValid=t}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)])};o._withStripped=!0;var s=i("+e7p"),n=i("Cjzc"),a=i("wYly"),r=i("RuLz"),l={name:"termsAndConditionsInput",mixins:[s.a,n.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{isValid:!0,BbCode:r.a}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",a.a.getDefaultAnswer(this.questionModel))},methods:{openTermsPopup:function(){this.openTerms(this)}}},u=(i("jxU3"),i("KHd+")),d=Object(u.a)(l,o,[],!1,null,"0e4938da",null);t.default=d.exports},b3Fc:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("componentinput"+e.questionModel.text.subType,{ref:"component",tag:"component",attrs:{questionModel:e.questionModel,readonly:e.readonly,formModel:e.formModel},on:{onInput:function(t){return e.$emit("onInput",e.questionModel)},onFocus:function(t){return e.$emit("onFocus",e.questionModel)}}})],1)};o._withStripped=!0;var s=function(){var e=this;return(0,e._self._c)("i-text",{ref:"input",attrs:{textarea:"",required:e.questionModel.isRequired,"prepend-icon":"align-left",readonly:e.readonly,placeholder:e.questionModel.placeholder,characterCounter:e.characterCounter,rules:e.formModel.validationRules[e.questionModel._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.pressEnter.apply(null,arguments)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})};s._withStripped=!0;var n=i("Tned"),a={name:"longtextInput",props:{questionModel:Object,formModel:Object,readonly:Boolean},data:()=>({characterCounter:!1,errorMessages:[]}),created:function(){this.questionModel.text.maxLength&&this.questionModel.text.maxLength>0&&(this.characterCounter=this.questionModel.text.maxLength),this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))},methods:{validate:function(){var e=this.formModel.validationRules[this.questionModel._id];this.errorMessages=[];for(var t=0;t<e.length;t++){var i=e[t](this.$refs.input.value);if(!0!==i){this.errorMessages.push(i);break}}},pressEnter:function(e){this.$root.isMobile||e.preventDefault()}}},r=i("KHd+"),l=Object(r.a)(a,s,[],!1,null,null,null).exports,u=(i("SYor"),function(){var e=this,t=e._self._c;return!e.questionModel.text.regexValidation&&e.questionModel.text.maskPattern&&""!==e.questionModel.text.maskPattern.trim()?t("IMaskedText",{ref:"input",attrs:{mask:e.maskPattern,placeholder:e.questionModel.placeholder&&""!==e.questionModel.placeholder&&e.questionModel.placeholder!==e.questionModel.question?e.questionModel.placeholder:e.questionModel.text.maskPattern,"prepend-icon":"mask",readonly:e.readonly,rules:e.formModel.validationRules[e.questionModel._id],required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)},focusout:e.onFocusOut},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}}):t("i-text",{ref:"input",attrs:{"prepend-icon":"mask",readonly:e.readonly,placeholder:e.questionModel.placeholder,rules:e.formModel.validationRules[e.questionModel._id],required:e.questionModel.isRequired},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})});u._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ"),i("rB9j"),i("UxlC");var d={name:"maskedtextInput",props:{questionModel:Object,formModel:Object,readonly:Boolean},components:{IMaskedText:()=>i.e(141).then(i.bind(null,"C8wv"))},data:function(){return{maskPattern:{pattern:this.questionModel.text.maskPattern?this.questionModel.text.maskPattern.replace(/1/g,"\\1"):void 0,formatCharacters:{"@":{validate:e=>/^[A-Za-zÐ-Ð¯Ð°-ÑÄÃ¼ÅÃ¶Ã§Ä°ÄÃÅÃÃ]$/.test(e)},"#":{validate:e=>/^[0-9]$/.test(e),transform:e=>e.toUpperCase()},"*":{validate:()=>!0}}}}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))},methods:{onFocusOut:function(){""===this.questionModel.answer.replace(/_/g,"").trim()&&(this.questionModel.answer="")}}},c=Object(r.a)(d,u,[],!1,null,null,null).exports,p=function(){var e=this;return(0,e._self._c)("i-text",{ref:"input",staticClass:"input",attrs:{"prepend-icon":"text",readonly:e.readonly,required:e.questionModel.isRequired,placeholder:e.questionModel.placeholder,characterCounter:e.characterCounter,rules:e.formModel.validationRules[e.questionModel._id]},on:{input:function(t){return e.$emit("onInput",e.questionModel)},focus:function(t){return e.$emit("onFocus",e.questionModel)}},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})};p._withStripped=!0;var h={name:"shorttextInput",props:{questionModel:Object,formModel:Object,readonly:Boolean},data:()=>({characterCounter:!1}),created:function(){this.questionModel.text.maxLength&&this.questionModel.text.maxLength>0&&(this.characterCounter=this.questionModel.text.maxLength),this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))}},m=Object(r.a)(h,p,[],!1,null,null,null).exports,f={name:"textInput",mixins:[i("Cjzc").a],components:{componentinputlongtext:l,componentinputmaskedtext:c,componentinputshorttext:m},props:{questionModel:Object,formModel:Object,readonly:Boolean}},M=Object(r.a)(f,o,[],!1,null,null,null);t.default=M.exports},dTUZ:function(e,t,i){},dWMN:function(e,t,i){"use strict";i("3pgs")},e8Pv:function(e,t,i){"use strict";i("W8vf")},eeMl:function(e,t,i){},fWNB:function(e,t,i){},"g/Hh":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this._self._c;return e("div",{staticClass:"question-body",class:this.questionModel.media?this.questionModel.media.align:""},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:this.image,expression:"image"}],staticClass:"cc-image-content",style:{width:this.size},attrs:{alt:"formbuilder"},on:{load:this.load}})])};o._withStripped=!0;var s=i("NRfZ"),n=i("Cjzc"),a={name:"imagecontentInput",mixins:[n.a],props:{questionModel:Object,formModel:Object},data:function(){return{size:""}},methods:{load:function(e){e&&e.target&&e.target.src&&-1===e.target.src.indexOf("img-loader.svg")&&(this.size=this.questionModel.media?Number(this.questionModel.media.size)+"%":"")}},computed:{image:function(){if(this.questionModel.media)return this.formModel.formTempFiles&&this.formModel.formTempFiles[this.questionModel.media.fileId]?s.a.fileApi+"/tempfile/"+this.formModel._id+"/"+this.questionModel.media.fileId:this.questionModel.media.imageUrl||s.a.fileApi+"/formfile/"+this.formModel._id+"/"+this.questionModel.media.fileId;if(this.questionModel.imageContent){if(this.questionModel.imageContent.externalFileUrl)return this.questionModel.imageContent.externalFileUrl;if(this.questionModel.imageContent.fileId)return s.a.fileApi+"/formfile/"+this.formModel._id+"/"+this.questionModel.imageContent.fileId}return"/static/img/no-image.png"}}},r=(i("nzEy"),i("KHd+")),l=Object(r.a)(a,o,[],!1,null,"c20f62a0",null);t.default=l.exports},hbdU:function(e,t,i){"use strict";i("WiIs")},"jEb/":function(e,t,i){},jalr:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("i-time",{attrs:{placeholder:e.placeholder,readonly:e.readonly,rules:e.formModel.validationRules[e.questionModel._id],required:e.questionModel.isRequired},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1)};o._withStripped=!0;var s=i("Cjzc"),n=i("ga8e"),a={name:"timeInput",mixins:[s.a],props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){return{placeholder:this.questionModel.placeholder||"__:__"}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel))}},r=i("KHd+"),l=Object(r.a)(a,o,[],!1,null,null,null);t.default=l.exports},jxU3:function(e,t,i){"use strict";i("tPw6")},"k+n+":function(e,t,i){"use strict";i("95gJ")},mMVR:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"full"},[t("div",{staticClass:"input-field"},[t("IDatePicker",{ref:"input",attrs:{readonly:e.readonly,firstDayOfWeek:2,culture:e.culture,dateFormat:e.dateFormat,"prepend-icon":"calendar",required:e.questionModel.isRequired,placeholder:e.questionModel.placeholder,minDate:e.minDate,maxDate:e.maxDate,rules:e.formModel.validationRules[e.questionModel._id].date},on:{pick:function(t){return e.$emit("onInput",e.questionModel)},onFocus:function(t){return e.$emit("onFocus",e.questionModel)}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),t("div",{staticClass:"time-area"},[e.questionModel.date.isWithTime?t("div",{staticClass:"input-field time-area-time"},[t("i-time",{attrs:{placeholder:e.questionModel.date.timePlaceholder||"__:__",rules:e.formModel.validationRules[e.questionModel._id].time,required:e.questionModel.isRequired},on:{focusout:e.timeFocusout},model:{value:e.questionModel.answer.time,callback:function(t){e.$set(e.questionModel.answer,"time",t)},expression:"questionModel.answer.time"}})],1):e._e(),e._v(" "),e.questionModel.date.isWithTime&&"12"===e.questionModel.date.timeFormat?t("div",{staticClass:"input-field select-time-format"},[t("i-select",{attrs:{items:e.timeOptions,readonly:e.readonly,"option-text":"text","option-value":"value"},on:{change:e.fixDateValue},model:{value:e.questionModel.answer.timeFormat,callback:function(t){e.$set(e.questionModel.answer,"timeFormat",t)},expression:"questionModel.answer.timeFormat"}})],1):e._e()])])])};o._withStripped=!0;i("4mDm"),i("5s+n"),i("3bBZ");var s=i("Cjzc"),n=i("1yfr"),a=i("wd/R"),r=i.n(a),l=i("ttAG"),u={name:"dateInput",mixins:[s.a],components:{IDatePicker:()=>i.e(138).then(i.bind(null,"hdTy"))},props:{questionModel:Object,formModel:Object,readonly:Boolean},data:function(){var e=[{text:this.$t("questionTypes.date.am"),value:"AM"},{text:this.$t("questionTypes.date.pm"),value:"PM"}];return this.questionModel.date||this.$set(this.questionModel,"date",{}),this.questionModel.date.separator||this.$set(this.questionModel.date,"separator","/"),l.default.isEmpty(this.questionModel.date.isPast)&&this.$set(this.questionModel.date,"isPast",!0),l.default.isEmpty(this.questionModel.date.isFuture)&&this.$set(this.questionModel.date,"isFuture",!0),this.questionModel.date.format||this.$set(this.questionModel.date,"format","local"),this.questionModel.date.timeFormat||this.$set(this.questionModel.date,"timeFormat","24"),{timeOptions:e,dateFormat:null,culture:null,date:null,minDate:null,maxDate:null}},created:function(){if("local"!==this.questionModel.date.format){var e=n.a.fixedDateFormat(this.questionModel.date.format,this.questionModel.date.separator);this.questionModel.placeholder=this.questionModel.placeholder||e,this.dateFormat=e}else this.culture=this.$root.user.info.culture.name;this.questionModel.answer||(this.$set(this.questionModel,"answer",n.a.getDefaultAnswer(this.questionModel,this.culture)),this.questionModel.answer.date&&(this.date=this.questionModel.answer.date)),this.questionModel.date.isWithTime&&"12"===this.questionModel.date.timeFormat&&!this.questionModel.answer.timeFormat&&(this.questionModel.answer.timeFormat=this.timeOptions[0].value),!this.questionModel.date.isPast&&this.questionModel.date.isFuture?this.minDate=new Date:this.questionModel.date.isPast&&!this.questionModel.date.isFuture&&(this.maxDate=new Date)},methods:{setAnswer:function(e){e&&e.date&&(e.date=r()(e.date).toDate(),this.date=e.date),this.questionModel.answer=e},timeFocusout:function(){if(this.questionModel.isRequired||!this.questionModel.answer.date||!this.questionModel.date.isWithTime||this.questionModel.answer.time&&"__:__"!==this.questionModel.answer.time||(this.questionModel.answer.time="00:00","12"===this.questionModel.date.timeFormat&&(this.questionModel.answer.time="12:00")),this.questionModel.date.isWithTime&&this.questionModel.answer.time){var e=this.questionModel.answer.time.split(":"),t=Number(e[0]),i=Number(e[1]);if(i>59&&(i%=60),"12"===this.questionModel.date.timeFormat)if(t>12){var o=t%12;o=o<10?"0"+o+":"+i:o+":"+i,this.questionModel.answer.time=o,this.questionModel.answer.timeFormat="PM"}else 0===t&&(this.questionModel.answer.time="12:"+i)}this.fixDateValue()},fixDateValue:function(){if(this.questionModel.answer.time){var e=l.default.getFormattedTime(this.date);if(this.questionModel.answer.time&&"__:__"!==this.questionModel.answer.time){var t=this.questionModel.answer.time,i=this.questionModel.answer.time.split(":"),o=Number(i[0]);"AM"===this.questionModel.answer.timeFormat&&12===o&&(t="00:"+i[1]),"PM"===this.questionModel.answer.timeFormat&&o<12&&(t=o+12+":"+i[1]),e=r()(e+" "+t).format()}this.questionModel.answer.date=r()(e).utcOffset(0,!0).format()}}},watch:{date:function(e){e&&(this.questionModel.answer.date=l.default.getFormattedTime(e)+"T00:00:00Z",this.questionModel.isRequired||!this.questionModel.date.isWithTime||this.questionModel.answer.time&&"00:00"!==this.questionModel.answer.time&&"__:__"!==this.questionModel.answer.time||(this.questionModel.answer.time="00:00","12"===this.questionModel.date.timeFormat&&(this.questionModel.answer.time="12:00")),this.fixDateValue())}}},d=(i("BGN2"),i("KHd+")),c=Object(d.a)(u,o,[],!1,null,"7e383e17",null);t.default=c.exports},nEIV:function(e,t,i){"use strict";i("zqxp")},nJvu:function(e,t,i){"use strict";i("D1qf")},nKMB:function(e,t,i){"use strict";i.r(t);var o=function(){return(0,this._self._c)("div",{staticClass:"divider"})};o._withStripped=!0;var s={name:"seperatorInput",mixins:[i("Cjzc").a],props:["formModel","questionModel"]},n=i("KHd+"),a=Object(n.a)(s,o,[],!1,null,null,null);t.default=a.exports},na3u:function(e,t,i){var o=i("LboF"),s=i("oXFt");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},nexg:function(e,t,i){var o=i("LboF"),s=i("fWNB");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},nzEy:function(e,t,i){"use strict";i("sJRQ")},o6uC:function(e,t,i){var o=i("LboF"),s=i("vKVW");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},oXFt:function(e,t,i){},recK:function(e,t,i){},sJRQ:function(e,t,i){var o=i("LboF"),s=i("uwnh");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},tPw6:function(e,t,i){var o=i("LboF"),s=i("9qeA");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},tmLG:function(e,t,i){var o=i("LboF"),s=i("72E/");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}},uwnh:function(e,t,i){},vKVW:function(e,t,i){},wdwb:function(e,t,i){"use strict";i("tmLG")},yWGJ:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question-body"},[t("div",{staticClass:"fineuploader-wrapper"},[t("i-fine-uploader",{ref:"input",attrs:{options:e.options,accept:"image/*",rules:e.formModel.validationRules[e.questionModel._id],lock:e.lock,readonly:e.readonly,maxSize:e.fileMaxSize,multiple:"",maxFileCount:e.maxFileCount,setAppVueVariable:e.setAppVueVariable},on:{onInit:e.onInit,submitted:e.submitted,onError:e.onError,complete:e.complete,remove:e.remove},model:{value:e.questionModel.answer,callback:function(t){e.$set(e.questionModel,"answer",t)},expression:"questionModel.answer"}})],1),e._v(" "),e.lock||null===e.errMsg?e._e():t("i-alert",{attrs:{type:"error"}},[t("span",{domProps:{innerHTML:e._s(e.errMsg)}})])],1)};o._withStripped=!0;var s,n=i("yXPU"),a=i.n(n),r=i("NRfZ"),l=i("iAnd"),u=i("Cjzc"),d=i("0WgH"),c={name:"ImageUploadInput",mixins:[u.a],props:{questionModel:Object,formModel:Object,setAppVueVariable:Function,readonly:Boolean},data(){var e={request:{endpoint:r.a.fileApi+"/uploadanswerfile",method:"POST",params:{formId:this.formModel._id,formSession:this.formModel.uploadSession},inputName:"file"},validation:{allowedExtensions:["jpg","jpeg","png"]},scaling:{includeExif:!1,sendOriginal:!1,orient:!1,sizes:[{name:"medium",maxSize:1920}]},multiple:!1,base64:null};return"private"===this.formModel.state&&(e.request.customHeaders={Authorization:"Bearer ".concat(this.$auth.getToken())}),{options:e,uploader:null,errMsg:null,createUserCalled:!1,lock:!1,fileMaxSize:r.a.answerFileUploadMaxSize,maxFileCount:this.questionModel.imageUpload&&this.questionModel.imageUpload.maxFileCount||r.a.maxUploadAnswerFileCount}},created:function(){this.questionModel.answer||this.$set(this.questionModel,"answer",d.a.getDefaultAnswer(this.questionModel))},methods:{onInit:function(e){this.uploader=e},submitted:function(){this.lock=!0,this.errMsg=null},onError:function(e,t,i,o){o||(this.errMsg=i)},complete:(s=a()((function*(e,t,i,o,s){var n=this.$refs.input.$el.querySelector("canvas");n&&(this.options.base64=n.toDataURL("image/png"));var a=!0;if(i){this.questionModel.imageupload&&this.questionModel.imageupload.defaultValue&&(this.questionModel.imageupload.defaultValue=[]);var r=!0;if(i.fileId)this.questionModel.answer||(this.questionModel.answer=[]),this.questionModel.previews||(this.questionModel.previews=[]),this.questionModel.answer.push({uploadId:e,fid:i.fileId,t:i.fileType,s:i.fileSize}),this.questionModel.previews.push({uploadId:e,fid:i.fileId,base64:s.data}),this.formModel.uploadSession=i.formSession,this.uploader.methods._options.request.params.formSession=this.formModel.uploadSession,r=!1,this.$emit("onInput",this.questionModel);else if(i.errorCode&&2===i.errorCode)this.createUserCalled||(yield l.a.CreateUserByForm(this.formModel._id))&&(this.uploader.methods.retry(e),a=!1,r=!1),this.createUserCalled=!0;else if(i.error)this.errMsg=i.error;else{var u=" ".concat(this.$root.$t("notification.traceCode"),": II0001");this.errMsg=this.$root.$t("notification.anErrorOccurred",{moreDetail:u})}r&&this.$refs.input.removeFile(e),a&&(this.lock=!1,this.setAppVueVariable("showMainLoader",!1))}})),function(e,t,i,o,n){return s.apply(this,arguments)}),remove:function(e){var t=this.questionModel.answer.findIndex(t=>t.uploadId===e);t>-1&&this.questionModel.answer.splice(t,1)}}},p=i("KHd+"),h=Object(p.a)(c,o,[],!1,null,null,null);t.default=h.exports},zqxp:function(e,t,i){var o=i("LboF"),s=i("70on");"string"==typeof(s=s.__esModule?s.default:s)&&(s=[[e.i,s,""]]);var n={insert:"head",singleton:!1};o(s,n);e.exports=s.locals||{}}},0,[134]]);